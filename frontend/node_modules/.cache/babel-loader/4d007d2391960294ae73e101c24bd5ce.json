{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Home.vue","mtime":1682218547879},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFNob3BCb3ggZnJvbSAiQC9jb21wb25lbnRzL1Nob3BCb3giOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJldmlldyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3BzOiBbXSwKICAgICAgcGFnZV9udW06IDEsCiAgICAgIHRvdGFsX3BhZ2VzOiAwLAogICAgICBlcnJvcnM6IFtdLAogICAgICB0eXBlOiAiMiIsCiAgICAgIGlkZW50aXR5OiAtMQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNob3BCb3g6IFNob3BCb3gKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICJIb21lIjsKICAgIHRoaXMucGFnZV9udW0gPSAxOwogICAgdGhpcy5pZGVudGl0eSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZGVudGl0eSIpOwogICAgY29uc29sZS5sb2codGhpcy5pZGVudGl0eSk7CiAgICB0aGlzLmdldFBybygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvOiBmdW5jdGlvbiBnZXRQcm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMucGFnZV9udW0gPD0gMCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIumhteeggeS4jeWPr+Wwj+S6jjDvvIzor7fph43mlrDovpPlhaUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICBhdXRob3JpemU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhvcml6ZSIpIHx8ICJ7fSIpLAogICAgICAgIHBhZ2VfbnVtOiB0aGlzLnBhZ2VfbnVtCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvc2hvcCIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnNob3BzID0gcmVzcG9uc2UuZGF0YS5zaG9wczsKICAgICAgICBfdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEudG90YWxfcGFnZXM7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuc2hvcHMpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzTG9hZGluZyIsIGZhbHNlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Home.vue"],"names":[],"mappings":"AAoFE,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,OAAP,MAAoB,sBAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,QAAQ,EAAE,CAFL;AAGL,MAAA,WAAW,EAAE,CAHR;AAIL,MAAA,MAAM,EAAE,EAJH;AAKL,MAAA,IAAI,EAAE,GALD;AAML,MAAA,QAAQ,EAAE,CAAC;AANN,KAAP;AAQD,GAXY;AAYb,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP;AADU,GAZC;AAeb,EAAA,OAfa,qBAeH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,MAAjB;AACA,SAAK,QAAL,GAAgB,CAAhB;AACA,SAAK,QAAL,GAAgB,YAAY,CAAC,OAAb,CAAqB,UAArB,CAAhB;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,QAAjB;AACA,SAAK,MAAL;AACD,GArBY;AAsBb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,oBACE;AAAA;;AACP,WAAK,MAAL,GAAc,EAAd;;AACA,UAAI,KAAK,QAAL,IAAiB,CAArB,EAAwB;AACtB,aAAK,MAAL,CAAY,IAAZ,CAAiB,eAAjB;AACA;AACF;;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;AACA,UAAI,QAAO,GAAI;AACb,QAAA,SAAS,EAAE,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAhD,CADE;AAEb,QAAA,QAAQ,EAAE,KAAK;AAFF,OAAf;AAIA,MAAA,KAAI,CACD,IADH,CACQ,WADR,EACqB,QADrB,EAEG,IAFH,CAEQ,UAAC,QAAD,EAAc;AAClB,QAAA,KAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAT,CAAc,KAA3B;AACA,QAAA,KAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAT,CAAc,WAAjC;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,KAAjB;AACD,OANH,WAOS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OATH;AAWA,WAAK,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;AACD;AAxBM;AAtBI,CAAf","sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar is-dark\" role=\"navigation\" aria-label=\"main navigation\">\n      <div id=\"navbarBasicExample\" class=\"navbar-menu\">\n        <div v-if=\"identity == 2\" class=\"navbar-start\">\n          <a class=\"navbar-item\" href=\"/admin\">\n            管理员账户\n          </a>\n          <a class=\"navbar-item\" href=\"/review\">\n            审查店铺\n          </a>\n          <a class=\"navbar-item\" href=\"/review-product\">\n            审查商品\n          </a>\n        </div>\n\n        <div v-if=\"identity == 0\" class=\"navbar-start\">\n          <a class=\"navbar-item\" href=\"/personal-info\">\n            个人资料\n          </a>\n          <a class=\"navbar-item\" href=\"/cart\">\n            购物车\n          </a>\n          <a class=\"navbar-item\" href=\"/recharge\">\n            账户充值\n          </a>\n        </div>\n\n        <div v-if=\"identity == 1\" class=\"navbar-start\">\n          <a class=\"navbar-item\" href=\"/personal-info\">\n            个人资料\n          </a>\n          <a class=\"navbar-item\" href=\"/cart\">\n            购物车\n          </a>\n          <a class=\"navbar-item\" href=\"/recharge\">\n            账户充值\n          </a>\n          <a class=\"navbar-item\" href=\"/my-shops\">\n            我的商店\n          </a>\n        </div>\n      </div>\n    </nav>\n    <section class=\"hero is-medium is-dark mb-6\">\n      <div class=\"hero-body has-text-centered\">\n        <p class=\"title mb-6\">\n          欢迎！\n        </p>\n        <p class=\"subtitle\">\n          我们当前有这些商店：\n        </p>\n      </div>\n    </section>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <form @submit.prevent=\"getPro\">\n          <div class=\"column is-4\">\n            <div class=\"field\">\n              <label>页面/总页数{{ total_pages }}页</label>\n              <div class=\"control\">\n                <input type=\"text\" class=\"input\" v-model=\"page_num\" />\n              </div>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <button class=\"button is-dark\" @click=\"getPro\">搜索！</button>\n              </div>\n              <div class=\"notification is-danger\" v-if=\"errors.length\">\n                <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"column\"></div>\n    </div>\n    <div class=\"columns is-multiline\">\n      <ShopBox v-for=\"shop in shops\" v-bind:key=\"shop.id\" v-bind:shop=\"shop\" :type=\"type\" />\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import ShopBox from \"@/components/ShopBox\";\n  export default {\n    name: \"Review\",\n    data() {\n      return {\n        shops: [],\n        page_num: 1,\n        total_pages: 0,\n        errors: [],\n        type: \"2\",\n        identity: -1,\n      };\n    },\n    components: {\n      ShopBox,\n    },\n    mounted() {\n      document.title = \"Home\";\n      this.page_num = 1;\n      this.identity = localStorage.getItem(\"identity\");\n      console.log(this.identity);\n      this.getPro();\n    },\n    methods: {\n      getPro() {\n        this.errors = [];\n        if (this.page_num <= 0) {\n          this.errors.push(\"页码不可小于0，请重新输入\");\n          return;\n        }\n        this.$store.commit(\"setIsLoading\", true);\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          page_num: this.page_num,\n        };\n        axios\n          .post(\"/api/shop\", formData)\n          .then((response) => {\n            this.shops = response.data.shops;\n            this.total_pages = response.data.total_pages;\n            console.log(this.shops);\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n\n        this.$store.commit(\"setIsLoading\", false);\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}