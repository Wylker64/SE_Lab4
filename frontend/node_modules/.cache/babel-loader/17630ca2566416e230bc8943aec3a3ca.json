{"remainingRequest":"/Users/kerunyu/Desktop/fontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/fontend/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kerunyu/Desktop/fontend/src/views/Product.vue","mtime":1672064194000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmltcG9ydCB7IHRvUmF3IH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9kdWN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvcF9uYW1lOiB0aGlzLiRyb3V0ZS5wYXJhbXMuc2hvcF9uYW1lLAogICAgICBwcm9kdWN0c19zaG9wOiBbXSwKICAgICAgcXVhbnRpdHk6IDEKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRTaG9wKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBidXk6IGZ1bmN0aW9uIGJ1eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICBidXlfbnVtOiB0aGlzLnF1YW50aXR5LAogICAgICAgIHByb2RfaWQ6IHRoaXMucHJvZF9pZAogICAgICB9OwogICAgICBheGlvcy5wb3N0KCcvYnV5ZXIvYnV5JywgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdEb25lIScsCiAgICAgICAgICAgIHR5cGU6ICdpcy1zdWNjZXNzJywKICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpOwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFNob3A6IGZ1bmN0aW9uIGdldFNob3AoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgIHNob3BuYW1lOiB0aGlzLnNob3BfbmFtZSwKICAgICAgICB3aG86ICdidXllcicKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnL2dldGJ5c2hvcG5hbWUnLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIucHJvZHVjdHNfc2hvcCA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdHM7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLnByb2R1Y3RzX3Nob3ApOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEucHJvZHVjdHMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KCkgewogICAgICBpZiAoaXNOYU4odGhpcy5xdWFudGl0eSkgfHwgdGhpcy5xdWFudGl0eSA8IDEpIHsKICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTsKICAgICAgfQoKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiB0aGlzLnF1YW50aXR5CiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkVG9DYXJ0JywgaXRlbSk7CiAgICAgIHRvYXN0KHsKICAgICAgICBtZXNzYWdlOiAnVGhlIHByb2R1Y3Qgd2FzIGFkZGVkIHRvIHRoZSBjYXJ0JywKICAgICAgICB0eXBlOiAnaXMtc3VjY2VzcycsCiAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/kerunyu/Desktop/fontend/src/views/Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"page-product\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n            <h2 class=\"is-size-2 has-text-centered\">{{shop_name}}</h2>\n        </div>\n            <div class=\"column is-9\" v-for=\"product in products_shop\" v-bind:key=\"product.prod_id\">\n                <!-- <figure class=\"image mb-6\">\n                    <img v-bind:src=\"product.get_image\">\n                </figure> -->\n                <div class=\"columns is-multiline\">\n        <div class=\"column is-4 is-offset-4\">\n        <div class=\"box\">\n            <!-- <figure class=\"image mb-4\">\n                <img v-bind:src=\"product.get_thumbnail\">\n            </figure> -->\n\n            <h3 class=\"is-size-4\">ID: {{ product.prod_id }}</h3>\n            <h3 class=\"is-size-4\">name: {{ product.prod_name }}</h3>\n            <p class=\"is-size-6 has-text-grey\">${{ product.price }}</p>\n            <p>{{ product.descri }}</p>\n\n\n\n        </div>\n    </div>\n    </div>\n\n\n                \n            </div>\n\n\n            \n                <!-- <p><strong>Price: </strong>${{ product.price }}</p> -->\n\n                <!-- <div class=\"field has-addons mt-6\"> -->\n                    <!-- <div class=\"control\">\n                        <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\">\n                    </div> -->\n                    \n                    <form @submit.prevent=\"buy\">\n                        <label>Quantity</label>\n                    <div class=\"control\">\n                        <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\">\n            </div>\n            <br>\n            <div class=\"field\">\n                <label>Product ID</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"prod_id\">\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-dark\">Buy Now</button>\n                </div>\n            </div>\n                </form>\n\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\nimport { toRaw } from '@vue/reactivity';\n\nexport default {\n    name: 'Product',\n    data() {\n        return {\n            shop_name:this.$route.params.shop_name,\n            products_shop:[],\n            quantity: 1\n        }\n    },\n    mounted:function(){\n        this.getShop();\n\n    },\n\n    methods: {\n        buy() {\n                const formData =  {\n                    buy_num: this.quantity,\n                    prod_id: this.prod_id\n                }\n                axios\n                    .post('/buyer/buy', formData)\n                    .then(response => {\n                        if (response.data.success == true){\n                            toast({\n                            message: 'Done!',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n                        } else{\n                            toast({\n                            message: response.data.message,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',                            \n                        })\n\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n        },\n     getShop(){\n        const formData = {shopname: this.shop_name, who:'buyer'}\n            axios\n            .post('/getbyshopname', formData\n            )\n            .then(response => {\n                  this.products_shop = response.data.products\n                  console.log(this.products_shop)\n                  console.log(response.data.products)\n            })\n          .catch(error => {\n            console.log(error)\n          })\n      },\n        addToCart() {\n            if (isNaN(this.quantity) || this.quantity < 1) {\n                this.quantity = 1\n            }\n\n            const item = {\n                product: this.product,\n                quantity: this.quantity\n            }\n\n            this.$store.commit('addToCart', item)\n\n            toast({\n                message: 'The product was added to the cart',\n                type: 'is-success',\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: 'bottom-right',\n            })\n        }\n    }\n}\n</script>\n\n"],"sourceRoot":""}]}