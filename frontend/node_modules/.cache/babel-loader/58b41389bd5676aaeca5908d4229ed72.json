{"remainingRequest":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/BuyerAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/BuyerAccount.vue","mtime":1672400990000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBPcmRlclN1bW1hcnkgZnJvbSAnQC9jb21wb25lbnRzL09yZGVyU3VtbWFyeS52dWUnOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ2J1bG1hLXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCdXllckFjY291bnQnLAogIGNvbXBvbmVudHM6IHsKICAgIE9yZGVyU3VtbWFyeTogT3JkZXJTdW1tYXJ5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJzOiBbXSwKICAgICAgYnV5ZXI6IHt9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gJ015IGFjY291bnQnOwogICAgdGhpcy5JbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBJbmZvOiBmdW5jdGlvbiBJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgnL2dldGluZm8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmJ1eWVyID0gcmVzcG9uc2UuZGF0YS5idXllcjsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlSW5mbzogZnVuY3Rpb24gY2hhbmdlSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMubmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICBuaWNrbmFtZTogdGhpcy5uYW1lMiwKICAgICAgICBwaG9uZTogdGhpcy5waG9uZSwKICAgICAgICBidXlfYWRkcmVzczogdGhpcy5hZGRyZXNzCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoJy9teWluZm8nLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogJ0luZm9ybWF0aW9uIFVwZGF0ZWQhJywKICAgICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG9hc3QoewogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IucmVzcG9uc2UuZGF0YSkpOwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbicpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogICAgICBheGlvcy5wb3N0KCcvbXlsb2dvdXQnKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VybmFtZSIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcmlkIik7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlVG9rZW4nKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0gLy8gYXN5bmMgZ2V0TXlPcmRlcnMoKSB7CiAgICAvLyAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCB0cnVlKQogICAgLy8gICAgIGF3YWl0IGF4aW9zCiAgICAvLyAgICAgICAgIC5nZXQoJy9hcGkvdjEvb3JkZXJzLycpCiAgICAvLyAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgICAgIHRoaXMub3JkZXJzID0gcmVzcG9uc2UuZGF0YQogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCBmYWxzZSkKICAgIC8vIH0KCiAgfQp9Ow=="},{"version":3,"sources":["/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/BuyerAccount.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">My account</h1>\n            </div>\n\n            <div class=\"column is-4 is-offset-4\">\n                <button @click=\"logout()\" class=\"button is-danger\">Log out</button>\n            </div>\n\n            <hr>\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">My Information</h1>\n\n                <table class=\"table\">\n        <thead>\n            <tr>\n            <th>ID</th>\n            <th>User Name</th>\n            <th>Password</th>\n            <th>Name</th>\n            <th>Phone</th>\n            <th>Address</th>\n            <th>Balance</th>\n            </tr>\n        </thead>\n            <tbody>\n\n            <tr>\n            <td>{{buyer.buy_id}}</td>\n            <td>{{buyer.buy_name}}</td>\n            <td>{{buyer.passwd}}</td>\n            <td>{{buyer.nickname}}</td>\n            <td>{{buyer.phone}}</td>\n            <td>{{buyer.buy_address}}</td>\n            <td>{{buyer.balance}}</td>\n            </tr>\n            </tbody>\n            </table>\n            <form @submit.prevent=\"changeInfo\">\n                \n            <div class=\"field\">\n                <label>User Name</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"name\">\n                </div>\n            </div>\n\n            <div class=\"field\">\n                <label>Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" class=\"input\" v-model=\"password\">\n                </div>\n            </div>\n            \n\n            <div class=\"field\">\n                <label>Nickname</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"name2\">\n                </div>\n            </div>\n\n            <div class=\"field\">\n                <label>Phone</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"phone\">\n                </div>\n            </div>\n        \n             <div class=\"field\">\n                <label>Address</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"address\">\n                </div>\n            </div>\n\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-dark\">Update My Information</button>\n                </div>\n            </div>\n            </form>  \n        </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport OrderSummary from '@/components/OrderSummary.vue'\nimport { toast } from 'bulma-toast'\nexport default {\n    name: 'BuyerAccount',\n    components: {\n        OrderSummary\n    },\n    data() {\n        return {\n            orders: [],\n            buyer:{}\n        }\n    },\n    mounted() {\n        document.title = 'My account'\n        this.Info()\n\n\n    },\n\n    methods: {\n        Info(){axios\n                    .post('/getinfo')\n                    .then(response => {this.buyer = response.data.buyer})},\n        changeInfo() {\n\n                    var formData =  {\n                    username: this.name,\n                    password: this.password,\n                    nickname: this.name2,\n                    phone: this.phone,\n                    buy_address: this.address\n                }\n                \n\n                axios\n                    .post('/myinfo', formData)\n                    .then(response => {\n                        if (response.data.success == true){\n                            toast({\n                            message: 'Information Updated!',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n                        } else{\n                            toast({\n                            message: response.data.message,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n\n        },\n        logout() {\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n            axios.post('/mylogout')\n            localStorage.removeItem(\"token\")\n            localStorage.removeItem(\"username\")\n            localStorage.removeItem(\"userid\")\n\n            this.$store.commit('removeToken')\n\n            this.$router.push('/')\n        },\n        // async getMyOrders() {\n        //     this.$store.commit('setIsLoading', true)\n\n        //     await axios\n        //         .get('/api/v1/orders/')\n        //         .then(response => {\n        //             this.orders = response.data\n        //         })\n        //         .catch(error => {\n        //             console.log(error)\n        //         })\n\n        //     this.$store.commit('setIsLoading', false)\n        // }\n    }\n}\n</script>"],"sourceRoot":""}]}