{"remainingRequest":"/Users/kerunyu/Desktop/fontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/fontend/src/views/LogIn.vue?vue&type=template&id=933e7582","dependencies":[{"path":"/Users/kerunyu/Desktop/fontend/src/views/LogIn.vue","mtime":1672390948000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1671711212000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1671711212000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/fontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgY3JlYXRlU3RhdGljVk5vZGUgYXMgX2NyZWF0ZVN0YXRpY1ZOb2RlIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgImNsYXNzIjogInBhZ2UtbG9nLWluIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICAiY2xhc3MiOiAiY29sdW1ucyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgImNsYXNzIjogImNvbHVtbiBpcy00IGlzLW9mZnNldC00Igp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMSIsIHsKICAiY2xhc3MiOiAidGl0bGUiCn0sICJMb2cgaW4iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlU3RhdGljVk5vZGUoIjxkaXYgY2xhc3M9XCJmaWVsZFwiPjxsYWJlbD5TZWxlY3QgeW91ciByb2xlPC9sYWJlbD48ZGl2IGNsYXNzPVwiY29udHJvbFwiPjxkaXYgY2xhc3M9XCJzZWxlY3QgaXMtcHJpbWFyeVwiPjxzZWxlY3QgaWQ9XCJ1cmxcIj48b3B0aW9uIHZhbHVlPVwiL2J1eWVyL2xvZ2luXCI+QnV5ZXI8L29wdGlvbj48b3B0aW9uIHZhbHVlPVwiL3NlbGxlci9sb2dpblwiPlNlbGxlcjwvb3B0aW9uPjxvcHRpb24gdmFsdWU9XCIvYWRtaW4vbG9naW5cIj5BZG1pbmlzdHJhdG9yPC9vcHRpb24+PC9zZWxlY3Q+PC9kaXY+PC9kaXY+PC9kaXY+IiwgMSk7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICAiY2xhc3MiOiAiZmllbGQiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgbnVsbCwgIlVzZXJuYW1lIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgImNsYXNzIjogImNvbnRyb2wiCn07CnZhciBfaG9pc3RlZF85ID0gewogICJjbGFzcyI6ICJmaWVsZCIKfTsKCnZhciBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgbnVsbCwgIlBhc3N3b3JkIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzExID0gewogICJjbGFzcyI6ICJjb250cm9sIgp9Owp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAga2V5OiAwLAogICJjbGFzcyI6ICJub3RpZmljYXRpb24gaXMtZGFuZ2VyIgp9OwoKdmFyIF9ob2lzdGVkXzEzID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogICJjbGFzcyI6ICJmaWVsZCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICAiY2xhc3MiOiAiY29udHJvbCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAiY2xhc3MiOiAiYnV0dG9uIGlzLWRhcmsiCn0sICJMb2cgaW4iKV0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzE0ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaHIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIE9yICIpOwoKdmFyIF9ob2lzdGVkXzE2ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoImNsaWNrIGhlcmUiKTsKCnZhciBfaG9pc3RlZF8xNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgdG8gc2lnbiB1cCEgIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3JvdXRlcl9saW5rID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci1saW5rIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19ob2lzdGVkXzQsIF9jcmVhdGVWTm9kZSgiZm9ybSIsIHsKICAgIG9uU3VibWl0OiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IF93aXRoTW9kaWZpZXJzKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnN1Ym1pdEZvcm0gJiYgJG9wdGlvbnMuc3VibWl0Rm9ybS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0sIFsicHJldmVudCJdKSkKICB9LCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2hvaXN0ZWRfNywgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICAiY2xhc3MiOiAiaW5wdXQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLnVzZXJuYW1lID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEudXNlcm5hbWVdXSldKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfaG9pc3RlZF8xMCwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInBhc3N3b3JkIiwKICAgICJjbGFzcyI6ICJpbnB1dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucGFzc3dvcmQgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192TW9kZWxUZXh0LCAkZGF0YS5wYXNzd29yZF1dKV0pXSksICRkYXRhLmVycm9ycy5sZW5ndGggPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEyLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmVycm9ycywgZnVuY3Rpb24gKGVycm9yKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInAiLCB7CiAgICAgIGtleTogZXJyb3IKICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3IpLCAxCiAgICAvKiBURVhUICovCiAgICApOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfaG9pc3RlZF8xMywgX2hvaXN0ZWRfMTQsIF9ob2lzdGVkXzE1LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgdG86ICIvc2lnbi11cCIKICB9LCB7CiAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfaG9pc3RlZF8xNl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2hvaXN0ZWRfMTddLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKV0pXSldKTsKfQ=="},{"version":3,"sources":["/Users/kerunyu/Desktop/fontend/src/views/LogIn.vue"],"names":[],"mappings":";;AACS,WAAM;;;AACF,WAAM;;;AACF,WAAM;;;8BACP,YAAA,CAA6B,IAA7B,EAA6B;AAAzB,WAAM;AAAmB,CAA7B,EAAkB,QAAlB,EAAwB,CAAA;AAAA;AAAxB,C;;;;;AAgBS,WAAM;;;8BACP,YAAA,CAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe,CAAA;AAAA;AAAf,C;;;AACK,WAAM;;;AAKV,WAAM;;;+BACP,YAAA,CAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe,CAAA;AAAA;AAAf,C;;;AACK,WAAM;;;;AAKV,WAAM;;;+BAIX,YAAA,CAIM,KAJN,EAIM;AAJD,WAAM;AAIL,CAJN,EAAkB,C,aACd,YAAA,CAEM,KAFN,EAEM;AAFD,WAAM;AAEL,CAFN,EAAoB,C,aAChB,YAAA,CAA8C,QAA9C,EAA8C;AAAtC,WAAM;AAAgC,CAA9C,EAA+B,QAA/B,CADgB,CAApB,CADc,CAAlB,E;;AAAA,C;;+BAMA,YAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,C;;gDAAI,M;;gDAE0B,Y;;gDAAwB,e;;;;;uBA7CtE,YAAA,CAiDM,KAjDN,EAAA,UAAA,EAiDM,CAhDF,YAAA,CA+CM,KA/CN,EAAA,UAAA,EA+CM,CA9CF,YAAA,CA6CM,KA7CN,EAAA,UAAA,EA6CM,CA5CF,UA4CE,EA1CF,YAAA,CAyCO,MAzCP,EAyCO;AAzCA,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,QAAA,CAAA,UAAA,IAAA,QAAA,CAAA,UAAA,OAAA,QAAA,YAAV;AAAA,KAAA,EAAoB,CAAA,SAAA,CAApB,CAAA;AAyCN,GAzCP,E,CACI,U,EAaA,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJF,UAIE,EAHF,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,C,gBADF,YAAA,CAAoD,OAApD,EAAoD;AAA7C,IAAA,IAAI,EAAC,MAAwC;AAAjC,aAAM,OAA2B;;aAAV,KAAA,CAAA,QAAA,GAAQ,M;;AAAE,GAApD,E,IAAA,E;;AAAA,G,iBAA0C,KAAA,CAAA,Q,GACxC,CAFN,CAGE,CALN,C,EAOA,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJF,WAIE,EAHF,YAAA,CAEM,KAFN,EAAA,WAAA,EAEM,C,gBADF,YAAA,CAAwD,OAAxD,EAAwD;AAAjD,IAAA,IAAI,EAAC,UAA4C;AAAjC,aAAM,OAA2B;;aAAV,KAAA,CAAA,QAAA,GAAQ,M;;AAAE,GAAxD,E,IAAA,E;;AAAA,G,iBAA8C,KAAA,CAAA,Q,GAC5C,CAFN,CAGE,CALN,C,EAO0C,KAAA,CAAA,MAAA,CAAO,M,kBAAjD,YAAA,CAEM,KAFN,EAAA,WAAA,EAEM,E,kBADF,YAAA,CAA6D,SAA7D,EAA6D,IAA7D,EAA6D,WAAA,CAA1C,KAAA,CAAA,MAA0C,EAApC,UAAf,KAAe,EAAV;yBAAf,YAAA,CAA6D,GAA7D,EAA6D;AAA3B,MAAA,GAAG,EAAE;AAAsB,KAA7D,EAA4C,gBAAA,CAAK,KAAL,CAA5C,EAAsD;AAAA;AAAtD,K;GAA6D,CAA7D,E;;AAAA,GACE,EAFN,C,uCAIA,W,EAMA,W,eAEG,YAAA,CAAmD,sBAAnD,EAAmD;AAAtC,IAAA,EAAE,EAAC;AAAmC,GAAnD,EAA0B;wBAAC;AAAA,aAAU,C,WAAA,CAAV;AAAA,K,CAAD;;;;AAAA,GAA1B,C,cAxCP,E;;AAAA,GA0CE,CA7CN,CA8CE,CA/CN,CAgDE,CAjDN,C","sourcesContent":["<template>\n    <div class=\"page-log-in\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Log in</h1>\n\n                <form @submit.prevent=\"submitForm\">\n                    <div class = \"field\">\n                    <label>Select your role</label>\n                    <div class = \"control\">\n                        <div class = \"select is-primary\">\n                            <select id=\"url\">\n                                <option value=\"/buyer/login\">Buyer</option>\n                                <option value=\"/seller/login\">Seller</option>\n                                <option value=\"/admin/login\">Administrator</option>\n                            </select>\n                        </div>\n                    </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Username</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"username\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark\">Log in</button>\n                        </div>\n                    </div>\n\n                    <hr>\n\n                    Or <router-link to=\"/sign-up\">click here</router-link> to sign up!\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\nexport default {\n    name: 'LogIn',\n    data() {\n        return {\n            username: '',\n            password: '',\n            errors: []\n        }\n    },\n    mounted() {\n        document.title = 'Log In'\n    },\n    methods: {\n        async submitForm() {\n            axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n            localStorage.removeItem(\"token\")\n\n            const formData = {\n                username: this.username,\n                password: this.password\n            }\n\n            await axios\n                .post(document.getElementById(\"url\").value, formData)\n                .then(response => {\n                    console.log(response);\n                    const token = document.getElementById(\"url\").value\n\n                    this.$store.commit('setToken', token)\n                    \n                    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token\n\n                    localStorage.setItem(\"token\", token)\n                    if (response.data.success == true){\n                        if (document.getElementById(\"url\").value == '/buyer/login'){\n                        var toPath = this.$route.query.to || '/cart'\n                        this.$store.commit('setBuyer', token)\n                    }\n                    if (document.getElementById(\"url\").value == '/seller/login'){\n                        var toPath = this.$route.query.to || '/add'\n                        this.$store.commit('setSeller', token)\n                    }                    \n                    if (document.getElementById(\"url\").value == '/admin/login'){\n                        var toPath = this.$route.query.to || '/review'\n                        this.$store.commit('setAdmin', token)\n                    }  \n                    this.$router.push(toPath)\n                } else{\n                            toast({\n                            message: response.data.message,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n\n                        }\n                })\n                .catch(error => {\n                    if (error.response) {\n                        for (const property in error.response.data) {\n                            this.errors.push(`${property}: ${error.response.data[property]}`)\n                        }\n                    } else {\n                        this.errors.push('Something went wrong. Please try again')\n                        \n                        console.log(JSON.stringify(error))\n                    }\n                })\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}