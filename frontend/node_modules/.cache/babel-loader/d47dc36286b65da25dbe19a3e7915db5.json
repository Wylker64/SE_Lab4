{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue","mtime":1684578426867},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmltcG9ydCBBZGRyZXNzIGZyb20gIi4uL2NvbXBvbmVudHMvYWRkcmVzcy52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoZWNrb3V0IiwKICBjb21wb25lbnRzOiB7CiAgICBBZGRyZXNzOiBBZGRyZXNzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICB0eXBlOiAtMSwKICAgICAgb3JkZXJfaWQ6IC0xLAogICAgICBhZGRyZXNzZXM6IFtdLAogICAgICBhZGRyZXNzX2lkOiAtMSAvLyDlhbbku5bmiYDpnIDmlbDmja4KCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gIuaPkOS6pOiuouWNlSI7IC8vIOiOt+WPlui0reeJqea4heWNleaVsOaNrgogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zKTsKCiAgICB0aGlzLnR5cGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZTsKICAgIHRoaXMuaXRlbXMgPSBKU09OLnBhcnNlKHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtcyk7IC8vIGNvbnNvbGUubG9nKHRoaXMudHlwZSk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLml0ZW1zKTsKCiAgICB0aGlzLmdldEFkZHJlc3MoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdE9yZGVyOiBmdW5jdGlvbiBzdWJtaXRPcmRlcigpIHsKICAgICAgLy8g5o+Q5Lqk6K6i5Y2VCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAicGF5IiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLm9yZGVyX2lkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZHJlc3NfaWQpOwogICAgfSwKICAgIGdldEFkZHJlc3M6IGZ1bmN0aW9uIGdldEFkZHJlc3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgYXV0aG9yaXplOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3JpemUiKSB8fCAie30iKQogICAgICB9OwogICAgICBheGlvcy5wb3N0KCIvYXBpL2FkZHJlc3MiLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLml0ZW1zKTsKICAgICAgICBfdGhpcy5hZGRyZXNzZXMgPSByZXNwb25zZS5kYXRhLml0ZW1zOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmFkZHJlc3Nlcyk7CiAgICAgIH0pOwogICAgfSAvLyDlhbbku5bmlrnms5XvvIzlpoLmlLbotKflnLDlnYDpgInmi6njgIHkvJjmg6DliLjpgInmi6nnrYkKCiAgfQp9Ow=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue"],"names":[],"mappings":"AAoGE,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AACA,OAAO,OAAP,MAAoB,2BAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,IAAI,EAAE,CAAC,CAFF;AAGL,MAAA,QAAQ,EAAE,CAAC,CAHN;AAIL,MAAA,SAAS,EAAE,EAJN;AAKL,MAAA,UAAU,EAAE,CAAC,CALR,CAML;;AANK,KAAP;AAQD,GAdY;AAeb,EAAA,OAfa,qBAeH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,MAAjB,CADQ,CAER;AACA;;AACA,SAAK,IAAL,GAAY,KAAK,MAAL,CAAY,MAAZ,CAAmB,IAA/B;AACA,SAAK,KAAL,GAAa,IAAI,CAAC,KAAL,CAAW,KAAK,MAAL,CAAY,MAAZ,CAAmB,KAA9B,CAAb,CALQ,CAMR;AACA;;AACA,SAAK,UAAL;AACD,GAxBY;AAyBb,EAAA,OAAO,EAAE;AACP,IAAA,WADO,yBACO;AACZ;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE,KAAR;AAAe,QAAA,MAAM,EAAE;AAAE,UAAA,EAAE,EAAE,KAAK;AAAX;AAAvB,OAAlB;AACD,KAJM;AAKP,IAAA,IALO,kBAKA;AACL,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,UAAjB;AACD,KAPM;AAQP,IAAA,UARO,wBAQM;AAAA;;AACX,UAAI,QAAO,GAAI;AACb,QAAA,SAAS,EAAE,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAhD;AADE,OAAf;AAGA,MAAA,KAAK,CAAC,IAAN,CAAW,cAAX,EAA2B,QAA3B,EAAqC,IAArC,CAA0C,UAAC,QAAD,EAAc;AACtD,QAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAAT,CAAc,KAA1B;AACA,QAAA,KAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,KAA/B;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,SAAjB;AACD,OAJD;AAKD,KAjBM,CAkBP;;AAlBO;AAzBI,CAAf","sourcesContent":["<!-- 下单界面 -->\n<template>\n  <div class=\"page-checkout\">\n    <div class=\"columns\">\n      <div class=\"column is-8\">\n        <h1 class=\"title\">提交订单</h1>\n\n        <div class=\"checkout-items\">\n          <!-- <h2 class=\"subtitle\">购物清单</h2> -->\n          <div class=\"box\">\n            <table class=\"table is-fullwidth\">\n              <thead>\n                <tr>\n                  <th>商品名称</th>\n                  <th>购买件数</th>\n                  <th>店铺名称</th>\n                  <th>单价</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in items\" v-bind:key=\"item.product_id\">\n                  <td>{{ item.name }}</td>\n                  <td>{{ item.count }}</td>\n                  <td>{{ item.shop_name }}</td>\n                  <td>{{ item.price }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div class=\"shipping-address\">\n          <!-- <h2 class=\"subtitle\">收货地址</h2> -->\n          <!-- 收货地址选择组件 -->\n          <!-- <div class=\"dropdown is-hoverable\">\n            <div class=\"dropdown-trigger\">\n              <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\n                <span>地址选择</span>\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\n                </span>\n              </button>\n            </div>\n            <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n              <div class=\"dropdown-content\">\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n                <hr class=\"dropdown-divider\" />\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n                <hr class=\"dropdown-divider\" />\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div> -->\n        </div>\n\n        <div class=\"payment-summary\">\n          <!-- <h2 class=\"subtitle\">结算金额及优惠明细</h2> -->\n          <!-- 结算金额及优惠明细组件 -->\n        </div>\n\n        <div class=\"submit-order\">\n          <button class=\"button is-dark\" @click=\"submitOrder\">\n            提交订单\n          </button>\n        </div>\n      </div>\n      <div class=\"column is-3 is-offset-1\">\n        <h2 class=\"title is-3\">选择地址</h2>\n        <!-- <label class=\"radio\">\n          <input type=\"radio\" name=\"answer\" v-model=\"address_id\" value=\"1\" />\n          <Address></Address>\n        </label> -->\n        <div class=\"address\" v-for=\"address in addresses\" :key=\"address.id\">\n          <label class=\"radio\">\n            <input type=\"radio\" name=\"answer\" v-model=\"address_id\" :value=\"address.id\" />\n            <Address :key=\"address.id\" :address=\"address\"></Address>\n          </label>\n        </div>\n      </div>\n    </div>\n    <button @click=\"show\">show</button>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  import Address from \"../components/address.vue\";\n  export default {\n    name: \"Checkout\",\n    components: {\n      Address,\n    },\n    data() {\n      return {\n        items: [],\n        type: -1,\n        order_id: -1,\n        addresses: [],\n        address_id: -1,\n        // 其他所需数据\n      };\n    },\n    mounted() {\n      document.title = \"提交订单\";\n      // 获取购物清单数据\n      // console.log(this.$route.params);\n      this.type = this.$route.params.type;\n      this.items = JSON.parse(this.$route.params.items);\n      // console.log(this.type);\n      // console.log(this.items);\n      this.getAddress();\n    },\n    methods: {\n      submitOrder() {\n        // 提交订单\n        this.$router.push({ name: \"pay\", params: { id: this.order_id } });\n      },\n      show() {\n        console.log(this.address_id);\n      },\n      getAddress() {\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n        };\n        axios.post(\"/api/address\", formData).then((response) => {\n          console.log(response.data.items);\n          this.addresses = response.data.items;\n          console.log(this.addresses);\n        });\n      },\n      // 其他方法，如收货地址选择、优惠券选择等\n    },\n  };\n</script>\n"],"sourceRoot":""}]}