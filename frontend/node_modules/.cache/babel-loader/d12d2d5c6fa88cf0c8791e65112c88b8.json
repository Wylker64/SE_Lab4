{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Shop.vue?vue&type=template&id=ea19b9a0","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Shop.vue","mtime":1681994246338},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1681917297995},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgImNsYXNzIjogImNvbHVtcyIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgImNsYXNzIjogImNvbHVtbiBpcy00IGlzLW9mZnNldC00Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICAiY2xhc3MiOiAidGl0bGUiCn07CnZhciBfaG9pc3RlZF80ID0gewogICJjbGFzcyI6ICJjb2x1bW4gaXMtMiIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgImNsYXNzIjogImZpZWxkIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICAiY2xhc3MiOiAiY29udHJvbCIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogICJjbGFzcyI6ICJmaWVsZCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICAiY2xhc3MiOiAiY29udHJvbCIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAiY2xhc3MiOiAiYnV0dG9uIGlzLWRhcmsiCn0sICLmkJzntKIiKV0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgImNsYXNzIjogImNvbHVtbnMgaXMtbXVsdGlsaW5lIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1Byb2R1Y3RCb3ggPSBfcmVzb2x2ZUNvbXBvbmVudCgiUHJvZHVjdEJveCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJoMSIsIF9ob2lzdGVkXzMsICLllYblupflkI3np7DvvJoiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5zaG9wLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICldKV0pLCBfY3JlYXRlVk5vZGUoImZvcm0iLCB7CiAgICBvblN1Ym1pdDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5nZXRQcm9kdWN0cyAmJiAkb3B0aW9ucy5nZXRQcm9kdWN0cy5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0sIFsicHJldmVudCJdKSkKICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZVZOb2RlKCJsYWJlbCIsIG51bGwsICLpobXnoIEv5YWxIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEucHJvZHVjdF90b3RhbF9wYWdlcykgKyAi6aG1IiwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJjbGFzcyI6ICJpbnB1dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucHJvZHVjdF9wYWdlX251bSA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLnByb2R1Y3RfcGFnZV9udW1dXSldKV0pLCBfaG9pc3RlZF83XSldLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLnByb2R1Y3RzLCBmdW5jdGlvbiAocHJvZHVjdCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfUHJvZHVjdEJveCwgewogICAgICBrZXk6IHByb2R1Y3QuaWQsCiAgICAgIHByb2R1Y3Q6IHByb2R1Y3QsCiAgICAgIHR5cGU6ICRkYXRhLnR5cGUKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsicHJvZHVjdCIsICJ0eXBlIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Shop.vue"],"names":[],"mappings":";;;AACO,WAAM;;;AACJ,WAAM;;;AACL,WAAM;;;AAIP,WAAM;;;AACJ,WAAM;;;AAEJ,WAAM;;;8BAIb,YAAA,CAIM,KAJN,EAIM;AAJD,WAAM;AAIL,CAJN,EAAkB,C,aAChB,YAAA,CAEM,KAFN,EAEM;AAFD,WAAM;AAEL,CAFN,EAAoB,C,aAClB,YAAA,CAA0C,QAA1C,EAA0C;AAAlC,WAAM;AAA4B,CAA1C,EAA+B,IAA/B,CADkB,CAApB,CADgB,CAAlB,E;;AAAA,C;;;AAOC,WAAM;;;;;sDApBX,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAA2C,IAA3C,EAAA,UAAA,EAAkB,UAAK,gBAAA,CAAG,KAAA,CAAA,IAAA,CAAK,IAAR,CAAvB,EAAmC;AAAA;AAAnC,GACI,CAFN,CAGI,CAJN,C,EAKA,YAAA,CAcO,MAdP,EAcO;AAdA,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,cAAA,CAAA;AAAA,aAAU,QAAA,CAAA,WAAA,IAAA,QAAA,CAAA,WAAA,OAAA,QAAA,YAAV;AAAA,KAAA,EAAqB,CAAA,SAAA,CAArB,CAAA;AAcN,GAdP,E,CACE,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,YAAA,CAA6C,OAA7C,EAA6C,IAA7C,EAAO,SAAI,gBAAA,CAAG,KAAA,CAAA,mBAAH,CAAJ,GAA6B,GAApC,EAAqC;AAAA;AAArC,GAII,EAHJ,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,C,gBADJ,YAAA,CAA8D,OAA9D,EAA8D;AAAvD,IAAA,IAAI,EAAC,MAAkD;AAA3C,aAAM,OAAqC;;aAApB,KAAA,CAAA,gBAAA,GAAgB,M;;AAAI,GAA9D,E,IAAA,E;;AAAA,G,iBAA0C,KAAA,CAAA,gB,GACtC,CAFN,CAGI,CALN,CAWI,EALJ,UAKI,CAZN,C,CADF,E;;AAAA,G,EAeA,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,E,kBADJ,YAAA,CAAuG,SAAvG,EAAuG,IAAvG,EAAuG,WAAA,CAAzE,KAAA,CAAA,QAAyE,EAAjE,UAAnB,OAAmB,EAAZ;yBAA1B,YAAA,CAAuG,qBAAvG,EAAuG;AAA9D,MAAA,GAAG,EAAE,OAAO,CAAC,EAAiD;AAA5C,MAAA,OAAO,EAAE,OAAmC;AAAzB,MAAA,IAAI,EAAE,KAAA,CAAA;AAAmB,KAAvG,E,IAAA,E;;AAAA,M,mBAAA,C;GAAuG,CAAvG,E;;AAAA,GACI,EAFN,C","sourcesContent":["<template>\n  <div class=\"colums\">\n    <div class=\"column is-4 is-offset-4\">\n      <h1 class=\"title\">商店名称：{{ shop.name }}</h1>\n    </div>\n  </div>\n  <form @submit.prevent=\"getProducts\">\n    <div class=\"column is-2\">\n      <div class=\"field\">\n        <label>页码/共{{ product_total_pages }}页</label>\n        <div class=\"control\">\n          <input type=\"text\" class=\"input\" v-model=\"product_page_num\" />\n        </div>\n      </div>\n      <div class=\"field\">\n        <div class=\"control\">\n          <button class=\"button is-dark\">搜索</button>\n        </div>\n      </div>\n    </div>\n  </form>\n  <div class=\"columns is-multiline\">\n    <ProductBox v-for=\"product in products\" :key=\"product.id\" :product=\"product\" :type=\"type\"></ProductBox>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  import ProductBox from \"@/components/ProductBox.vue\";\n  export default {\n    name: \"Shop\",\n    data() {\n      return {\n        shop: {},\n        account: {},\n        products: [],\n        product_total_pages: 0,\n        product_page_num: 1,\n        type: \"2\",\n        id: \"\",\n      };\n    },\n    components: {\n      ProductBox,\n    },\n    mounted() {\n      document.title = \"商店详情页\";\n      this.id = this.$route.params.id;\n      this.getProducts();\n    },\n    methods: {\n      getProducts() {\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          product_page_num: this.product_page_num,\n        };\n        var url = \"/api/shop/\" + this.id;\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            this.shop = response.data.shop;\n            this.account = response.data.account;\n            this.products = response.data.products;\n            this.product_total_pages = response.data.product_total_pages;\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n\n      //充值\n      refund() {\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          account_id: this.account.id,\n          amount: this.added,\n        };\n        axios\n          .post(\"/api/account/charge\", formData)\n          .then((response) => {\n            console.log(formData);\n            if (response.status == 200) {\n              toast({\n                message: \"充值成功！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n              //成功后重置页面\n              this.getInfo();\n              this.added = 0;\n            } else {\n              toast({\n                message: response.data.message,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}