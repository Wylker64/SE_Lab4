{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ShopBox.vue?vue&type=template&id=4bb12316&scoped=true","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ShopBox.vue","mtime":1682250747553},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1681917297995},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi00YmIxMjMxNiIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtNGJiMTIzMTYiKTsKCnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJjb2x1bW4gaXMtMyIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgImNsYXNzIjogImJveCIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAga2V5OiAwLAogICJjbGFzcyI6ICJpcy1zaXplLTQiCn07CnZhciBfaG9pc3RlZF80ID0gewogICJjbGFzcyI6ICJpcy1zaXplLTQiCn07CnZhciBfaG9pc3RlZF81ID0gewogICJjbGFzcyI6ICJpcy1zaXplLTYgaGFzLXRleHQtZ3JleSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAga2V5OiAxLAogICJjbGFzcyI6ICJpcy1zaXplLTYgaGFzLXRleHQtZ3JleSIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAga2V5OiAyLAogICJjbGFzcyI6ICJpcy1zaXplLTYgaGFzLXRleHQtZ3JleSIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3R4LmlzX2FkbWluID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJoMyIsIF9ob2lzdGVkXzMsICJJRDogIiArIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnNob3AuaWQpLCAxCiAgLyogVEVYVCAqLwogICkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoImgzIiwgX2hvaXN0ZWRfNCwgIuWQjeensO+8miIgKyBfdG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5zaG9wLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzUsICLnsbvlnovvvJoiICsgX3RvRGlzcGxheVN0cmluZygkcHJvcHMuc2hvcC50eXBlKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3R4LmlzX3VzZXIgfHwgX2N0eC5pc19hZG1pbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygicCIsIF9ob2lzdGVkXzYsICLmj4/ov7DvvJoiICsgX3RvRGlzcGxheVN0cmluZygkcHJvcHMuc2hvcC5kZXNjcmlwdGlvbiksIDEKICAvKiBURVhUICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jdHguaXNfYWRtaW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInAiLCBfaG9pc3RlZF83LCAi5Zyw5Z2A77yaIiArIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnNob3AuYWRkcmVzcyksIDEKICAvKiBURVhUICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDoi6Xku44vbXktc2hvcHPngrnlh7vliJnot7PovazliLDllYblupfnrqHnkIbnlYzpnaIvd2FyZWhvdXNlICIpLCBfY3R4LmlzX3NlbGxlciAmJiAkcHJvcHMuc2hvcC5hcHByb3ZlZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAzLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5wdXNoX3dhcmVob3VzZSAmJiAkb3B0aW9ucy5wdXNoX3dhcmVob3VzZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgImNsYXNzIjogImJ1dHRvbiBpcy1kYXJrIG10LTQiCiAgfSwgIiDliY3lvoAgIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3R4LmlzX3NlbGxlciAmJiAhJHByb3BzLnNob3AuYXBwcm92ZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogNCwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMucHVzaF93YXJlaG91c2UgJiYgJG9wdGlvbnMucHVzaF93YXJlaG91c2UuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgICJjbGFzcyI6ICJidXR0b24gaXMtZGFyayBtdC00IiwKICAgIGRpc2FibGVkOiAiIgogIH0sICIg5YmN5b6AICIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOiLpeS7ji9ob21l54K55Ye75YiZ6Lez6L2s5Yiw5ZWG5bqX5bGV56S655WM6Z2iL3Nob3AgIiksIF9jdHguaXNfdXNlciA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiA1LAogICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5wdXNoX3Nob3AgJiYgJG9wdGlvbnMucHVzaF9zaG9wLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSksCiAgICAiY2xhc3MiOiAiYnV0dG9uIGlzLWRhcmsgbXQtNCIKICB9LCAi5YmN5b6AIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3R4LmlzX2FkbWluID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDYsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnJlbGVhc2UodHJ1ZSk7CiAgICB9KSwKICAgICJjbGFzcyI6ICJidXR0b24gbXQtNCIKICB9LCAiIOmAmui/h+eUs+ivtyAiKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jdHguaXNfYWRtaW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogNywKICAgIG9uQ2xpY2s6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMucmVsZWFzZShmYWxzZSk7CiAgICB9KSwKICAgICJjbGFzcyI6ICJidXR0b24gbXQtNCIKICB9LCAiIOaLkue7neeUs+ivtyAiKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pOwp9KTs="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ShopBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"column is-3\">\n    <div class=\"box\">\n      <h3 v-if=\"is_admin\" class=\"is-size-4\">ID: {{ shop.id }}</h3>\n      <h3 class=\"is-size-4\">名称：{{ shop.name }}</h3>\n      <p class=\"is-size-6 has-text-grey\">类型：{{ shop.type }}</p>\n      <p v-if=\"is_user || is_admin\" class=\"is-size-6 has-text-grey\">描述：{{ shop.description }}</p>\n      <p v-if=\"is_admin\" class=\"is-size-6 has-text-grey\">地址：{{ shop.address }}</p>\n      <!-- 若从/my-shops点击则跳转到商店管理界面/warehouse -->\n      <button v-if=\"is_seller && shop.approved\" @click=\"push_warehouse\" class=\"button is-dark mt-4\">\n        前往\n      </button>\n      <button v-if=\"is_seller && !shop.approved\" @click=\"push_warehouse\" class=\"button is-dark mt-4\" disabled>\n        前往\n      </button>\n      <!-- 若从/home点击则跳转到商店展示界面/shop -->\n      <button v-if=\"is_user\" @click=\"push_shop\" class=\"button is-dark mt-4\">前往</button>\n      <button v-if=\"is_admin\" @click=\"release(true)\" class=\"button mt-4\">\n        通过申请\n      </button>\n      <button v-if=\"is_admin\" @click=\"release(false)\" class=\"button mt-4\">\n        拒绝申请\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  // import { numberLiteralTypeAnnotation } from \"@babel/types\";\n  export default {\n    name: \"ShopBox\",\n    data() {\n      return {\n        // movie: this.$store.state.shop,\n        errors: [],\n        approved: false,\n      };\n    },\n    methods: {\n      push_shop() {\n        var url = \"/shop/\" + this.shop.id;\n        this.$router.push({ path: url });\n        console.log(this.shop);\n      },\n      push_warehouse() {\n        var url = \"/warehouse/\" + this.shop.id;\n        this.$router.push({ path: url });\n        console.log(this.shop);\n      },\n      release(approved) {\n        this.errors = [];\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          shop_id: this.shop.id,\n          approved: approved,\n        };\n        console.log(this.review);\n        var url;\n        if (this.review === \"open\") url = \"/api/shop/approval\";\n        else if (this.review === \"delete\") url = \"api/shop/delete/approval\";\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            if (response.status == 200) {\n              toast({\n                message: \"商店审核通过！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            } else {\n              toast({\n                message: response.status,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error.response);\n            if (error.response) {\n              this.errors.push(error.response.data);\n              console.log(JSON.stringify(error.response));\n            } else if (error.message) {\n              this.errors.push(\"Something went wrong. Please try again\");\n              console.log(JSON.stringify(error.response));\n            }\n          });\n      },\n    },\n    created() {\n      if (this.type === \"1\") {\n        this.is_seller = true;\n      } else if (this.type === \"2\") {\n        this.is_user = true;\n      } else if (this.type === \"0\") {\n        this.is_admin = true;\n      }\n    },\n    props: {\n      shop: { type: Object },\n      type: { type: String },\n      review: { type: String },\n    },\n  };\n</script>\n\n<style scoped>\n  .image {\n    margin-top: -1.25rem;\n    margin-left: -1.25rem;\n    margin-right: -1.25rem;\n  }\n</style>\n"],"sourceRoot":""}]}