{"remainingRequest":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/SignUp.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/SignUp.vue","mtime":1672392554000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2lnblVwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMjogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAnU2lnbiBVcCc7CiAgfSwKICBtZXRob2RzOiB7CiAgICBub3Nob3dzaG9wOiBmdW5jdGlvbiBub3Nob3dzaG9wKCkgewogICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcG5hbWUnKSk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9wbmFtZScpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZXJyb3JzID0gW107CgogICAgICBpZiAodGhpcy51c2VybmFtZSA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgdXNlcm5hbWUgaXMgbWlzc2luZycpOwogICAgICB9CgogICAgICBpZiAodGhpcy5wYXNzd29yZCA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgcGFzc3dvcmQgaXMgdG9vIHNob3J0Jyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkMikgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1RoZSBwYXNzd29yZHMgZG9lc25cJ3QgbWF0Y2gnKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVybCIpLnZhbHVlID09ICcvc2VsbGVyL3JlZ2lzdGVyJykgewogICAgICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICAgIHNob3BuYW1lOiB0aGlzLnNob3BuYW1lCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGF4aW9zLnBvc3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVybCIpLnZhbHVlLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkgewogICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgY3JlYXRlZCwgcGxlYXNlIGxvZyBpbiEnLAogICAgICAgICAgICAgIHR5cGU6ICdpcy1zdWNjZXNzJywKICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvbG9nLWluJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/kerunyu/Desktop/寮犳€€鏉句綑鏌鼎pj/fontend/src/views/SignUp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"page-sign-up\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Sign up</h1>\n\n                <form @submit.prevent=\"submitForm\">\n                    <div class = \"field\">\n                    <label>Select your role</label>\n                    <div class = \"control\">\n                        <div class = \"select is-primary\">\n                            <select id=\"url\">\n                                <option value=\"/buyer/register\" @Click=\"noshowshop()\">Buyer</option>\n                                <option value=\"/seller/register\" >Seller</option>\n                                <option value=\"/admin/register\" @Click=\"noshowshop()\">Administrator</option>\n                            </select>\n                        </div>\n                    </div>\n                    </div>\n\n                    <div class=\"field\" id = 'shopname'>\n                        <label>Shop Name(for seller)</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"shopname\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Username</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"username\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Repeat password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password2\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark\">Sign up</button>\n                        </div>\n                    </div>\n\n                    <hr>\n\n                    Or <router-link to=\"/log-in\">click here</router-link> to log in!\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\nexport default {\n    name: 'SignUp',\n    data() {\n        return {\n            username: '',\n            password: '',\n            password2: '',\n            errors: []\n        }\n    },\n    mounted() {\n        document.title = 'Sign Up';\n\n    },\n    methods: {\n        noshowshop(){\n            console.log(document.getElementById('shopname'))\n            document.getElementById('shopname').style.display = \"none\";\n        },\n        submitForm() {\n            this.errors = []\n\n            if (this.username === '') {\n                this.errors.push('The username is missing')\n            }\n\n            if (this.password === '') {\n                this.errors.push('The password is too short')\n            }\n\n            if (this.password !== this.password2) {\n                this.errors.push('The passwords doesn\\'t match')\n            }\n\n            if (!this.errors.length) {\n                if (document.getElementById(\"url\").value == '/seller/register'){\n                    var formData =  {\n                    username: this.username,\n                    password: this.password,\n                    shopname: this.shopname\n                }\n                }else{\n                    var formData =  {\n                    username: this.username,\n                    password: this.password\n                }\n                }\n\n                axios\n                    .post(document.getElementById(\"url\").value, formData)\n                    .then(response => {\n                        if (response.data.success == true){\n                            toast({\n                            message: 'Account created, please log in!',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n                        this.$router.push('/log-in')\n                        } else{\n                            toast({\n                            message: response.data.message,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n            }\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}