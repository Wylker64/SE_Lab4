{"remainingRequest":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/SWE/lab2/frontend/src/views/Review.vue?vue&type=template&id=a774c3dc","dependencies":[{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/src/views/Review.vue","mtime":1679210275219},{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1671711212000},{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/SWE/lab2/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHdpdGhNb2RpZmllcnMgYXMgX3dpdGhNb2RpZmllcnMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJob21lIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICAiY2xhc3MiOiAiY29sdW1ucyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgImNsYXNzIjogImNvbHVtbiIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgImNsYXNzIjogImNvbHVtbiBpcy00IGlzLW9mZnNldC00Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICAiY2xhc3MiOiAiZmllbGQiCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgbnVsbCwgIumhtemdoiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gewogICJjbGFzcyI6ICJjb250cm9sIgp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgImNsYXNzIjogImZpZWxkIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogICJjbGFzcyI6ICJjb250cm9sIgp9LCBbLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICJjbGFzcyI6ICJidXR0b24gaXMtZGFyayIKfSwgIuaQnOe0ou+8gSIpXSldLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICAiY2xhc3MiOiAiY29sdW1uIgp9Owp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAgImNsYXNzIjogImNvbHVtbiBpcy00IGlzLW9mZnNldC00Igp9Owp2YXIgX2hvaXN0ZWRfMTEgPSB7CiAgImNsYXNzIjogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzEyID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgibGFiZWwiLCBudWxsLCAiU2hvcCBJRCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMyA9IHsKICAiY2xhc3MiOiAiY29udHJvbCIKfTsKdmFyIF9ob2lzdGVkXzE0ID0gewogICJjbGFzcyI6ICJmaWVsZCIKfTsKdmFyIF9ob2lzdGVkXzE1ID0gewogICJjbGFzcyI6ICJjb250cm9sIgp9Owp2YXIgX2hvaXN0ZWRfMTYgPSB7CiAgImNsYXNzIjogImNvbHVtbnMgaXMtbXVsdGlsaW5lIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1Nob3BCb3ggPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2hvcEJveCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoImZvcm0iLCB7CiAgICBvblN1Ym1pdDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5nZXRQcm8gJiYgJG9wdGlvbnMuZ2V0UHJvLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSwgWyJwcmV2ZW50Il0pKQogIH0sIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfaG9pc3RlZF82LCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJjbGFzcyI6ICJpbnB1dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC5wYWdlX251bSA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsIF9jdHgucGFnZV9udW1dXSldKV0pLCBfaG9pc3RlZF84XSldLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlVk5vZGUoImZvcm0iLCB7CiAgICBvblN1Ym1pdDogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5yZWxlYXNlICYmICRvcHRpb25zLnJlbGVhc2UuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpCiAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2hvaXN0ZWRfMTIsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTMsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgICJjbGFzcyI6ICJpbnB1dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuc2hvcF9pZCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLnNob3BfaWRdXSldKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzE0LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNSwgW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgc3R5bGU6IHsKICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4JwogICAgfSwKICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuYXBwcm92ZWQgPSB0cnVlOwogICAgfSkKICB9LCAi5om55YeG5byA5bqX77yBIiksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5hcHByb3ZlZCA9IGZhbHNlOwogICAgfSkKICB9LCAi5ouS57ud6K+35rGCIildKV0pXSldLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTYsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuc2hvcHMsIGZ1bmN0aW9uIChzaG9wKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9TaG9wQm94LCB7CiAgICAgIGtleTogc2hvcC5pZCwKICAgICAgc2hvcDogc2hvcAogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJzaG9wIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKTsKfQ=="},{"version":3,"sources":["/Users/kerunyu/Desktop/SWE/lab2/frontend/src/views/Review.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"home\">\n      <div class=\"columns\">\n      <div class=\"column\">\n      <form @submit.prevent=\"getPro\">\n            <div class=\"column is-4 is-offset-4\">          \n            <div class=\"field\">\n                <label>页面</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"page_num\">\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-dark\">搜索！</button>\n                </div>\n            </div>\n        </div> \n        </form>\n      </div>\n      <div class=\"column\">\n      <form @submit.prevent=\"release\">\n            <div class=\"column is-4 is-offset-4\">          \n            <div class=\"field\">\n                <label>Shop ID</label>\n                <div class=\"control\">\n                    <input type=\"text\" class=\"input\" v-model=\"shop_id\">\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button :style=\"{ marginRight: '10px' }\" @click=\"approved = true\">批准开店！</button>\n                    <button @click=\"approved = false\">拒绝请求</button>\n                </div>\n            </div>\n\n        </div> \n        </form>\n      </div>\n      </div>\n      <div class=\"columns is-multiline\">\n        <ShopBox \n          v-for=\"shop in shops\"\n          v-bind:key=\"shop.id\"\n          v-bind:shop=\"shop\" />\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios'\n  import { toast } from 'bulma-toast'\n  import ShopBox from '@/components/ShopBox'\n  export default {\n    name: 'Review',\n    data() {\n        return {\n            shops: [],\n            shop_id: '',\n            approved: '',\n        }\n    },\n    components: {\n      ShopBox\n    },\n    mounted() {\n  document.title = 'Review'\n  this.getPro() \n},\nmethods: {\n  async getPro() {\n    this.$store.commit('setIsLoading', true)\n    var formData =  {\n        authorize: JSON.parse(localStorage.getItem('authorize') || '{}'),\n        page_num: 1, \n        review: JSON.parse(localStorage.getItem('authorize') || '{}').username == 'admin'\n    }\n    axios\n        .post('/shop', formData)\n        .then(response => {\n            console.log(response)\n              this.shops = JSON.parse(JSON.stringify((response.data.shops)))\n        })\n      .catch(error => {\n        console.log(error)\n      })\n\n    this.$store.commit('setIsLoading', false)\n      },\n      release() {\n        var formData =  {\n            authorize: JSON.parse(localStorage.getItem('authorize') || '{}'),\n            shop_id: this.shop_id,\n            approved: this.approved,\n        }\n        axios\n                    .post('/shop/approval', formData)\n                    .then(response => {\n                        if (response.status == 200){\n                            \n                            toast({\n                            message: '商店审核通过！',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n                        } else{\n                            toast({\n                            message: response.status,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n\n        },\n    }\n  }\n  </script>\n"],"sourceRoot":""}]}