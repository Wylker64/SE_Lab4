{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/PersonalInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/PersonalInfo.vue","mtime":1684577917766},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmltcG9ydCBBZGRyZXNzIGZyb20gIi4uL2NvbXBvbmVudHMvYWRkcmVzcy52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBlcnNvbmFsSW5mbyIsCiAgY29tcG9uZW50czogewogICAgQWRkcmVzczogQWRkcmVzcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYW5nZWQ6IGZhbHNlLAogICAgICBpZF9jYXJkOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgbmV3X3Bhc3N3b3JkOiAiIiwKICAgICAgbmV3X3Bhc3N3b3JkMjogIiIsCiAgICAgIGVycm9yczogW10sCiAgICAgIGFkZHJlc3NlczogW10sCiAgICAgIGFuc3dlcjogIiIsCiAgICAgIHR5cGU6ICIwIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICLkuKrkurrotYTmlpkiOyAvL+WcqOi/m+WFpemhtemdouaXtuiOt+WPluS4quS6uui1hOaWmQoKICAgIHRoaXMuZ2V0SW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5hbnN3ZXIpOwogICAgfSwKICAgIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgYXV0aG9yaXplOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3JpemUiKSB8fCAie30iKQogICAgICB9OwogICAgICBheGlvcy5wb3N0KCIvYXBpL2luZm8iLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMuaWRfY2FyZCA9IHJlc3BvbnNlLmRhdGEuaWRDYXJkOwogICAgICAgIF90aGlzLnVzZXJuYW1lID0gcmVzcG9uc2UuZGF0YS51c2VybmFtZTsKICAgICAgICBfdGhpcy5waG9uZV9udW1iZXIgPSByZXNwb25zZS5kYXRhLnBob25lOwogICAgICAgIF90aGlzLmVtYWlsID0gcmVzcG9uc2UuZGF0YS5lbWFpbDsKICAgICAgfSk7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvYWRkcmVzcyIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuaXRlbXMpOwogICAgICAgIF90aGlzLmFkZHJlc3NlcyA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYWRkcmVzc2VzKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUHJvZmlsZTogZnVuY3Rpb24gY2hhbmdlUHJvZmlsZSgpIHsKICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTsKICAgIH0sCiAgICBjYW5jZWxDaGFuZ2U6IGZ1bmN0aW9uIGNhbmNlbENoYW5nZSgpIHsKICAgICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvL+WJjeerr+WQiOinhOaAp+WIpOaWrQogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMudXNlcm5hbWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi55So5oi35ZCN5LiN5b6X5Li656m6Iik7CiAgICAgIH0gZWxzZSBpZiAoIS9eXHcrJC8udGVzdCh0aGlzLnVzZXJuYW1lKSB8fCB0aGlzLnVzZXJuYW1lLmxlbmd0aCA+IDEwIHx8IHRoaXMudXNlcm5hbWUubGVuZ3RoIDwgMykgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIueUqOaIt+WQjeagvOW8j+S4jeato+ehrijoi7HmlofjgIHmlbDlrZfjgIHkuIvliJLnur/vvIzplb/luqbkuLozLTEw5Liq5a2X56ymKSIpOwogICAgICB9CgogICAgICBpZiAodGhpcy5waG9uZV9udW1iZXIubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi5omL5py65Y+35LiN5b6X5Li656m6Iik7CiAgICAgIH0gZWxzZSBpZiAoIS9eMVszLTldXGR7OX0kLy50ZXN0KHRoaXMucGhvbmVfbnVtYmVyKSkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIuivt+i+k+WFpeS4reWbveWkp+mZhueahOaJi+acuuWPtygxMeS9je+8jOesrOS4gOS9jeS4ujHvvIznrKzkuozkvY3kuLozLTnlhbbkuK3kuYvkuIApIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVtYWlsLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkUtbWFpbOS4jeW+l+S4uuepuiIpOwogICAgICB9IGVsc2UgaWYgKCEvXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXC5bYS16QS1aXXsyLH0kLy50ZXN0KHRoaXMuZW1haWwpKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi6K+36L6T5YWl5q2j56Gu55qERS1tYWlsKOeUqOaIt+WQjStAK+Wfn+WQjSkiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi6K+36L6T5YWl5a+G56CB5Lul5pu05pS5Iik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm5ld19wYXNzd29yZCAhPT0gdGhpcy5uZXdfcGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi5Lik5qyh6L6T5YWl55qE5paw5a+G56CB5LiN5LiA6Ie0Iik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXdfcGFzc3dvcmQubGVuZ3RoID09PSAwKSB7fSBlbHNlIGlmICghL14oPz0uKlthLXpBLVpdKSg/PS4qXGQpfCg/PS4qXGQpKD89LipbLV9dKXwoPz0uKlthLXpBLVpdKSg/PS4qWy1fXSlbYS16QS1aXGQtX117NiwzMn0kLy50ZXN0KHRoaXMubmV3X3Bhc3N3b3JkKSkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIuivt+i+k+WFpea7oei2s+imgeaxgueahOaWsOWvhueggSg2LTMy5Liq5a2X56ym77yM6Iez5bCR5YyF5ZCr5a2X5q+N44CB5pWw5a2X5oiW6ICF77yILV/vvInkuK3nmoToh7PlsJHkuKTnp40pIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPT09IDApIHsKICAgICAgICAvL+aOpeWPowogICAgICAgIGlmICh0aGlzLm5ld19wYXNzd29yZC5sZW5ndGgpIHsKICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICAgICAgYXV0aG9yaXplOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3JpemUiKSB8fCAie30iKSwKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMucGhvbmVfbnVtYmVyLAogICAgICAgICAgICBjdXJyZW50X3Bhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5uZXdfcGFzc3dvcmQKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICAgICAgYXV0aG9yaXplOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3JpemUiKSB8fCAie30iKSwKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMucGhvbmVfbnVtYmVyLAogICAgICAgICAgICBjdXJyZW50X3Bhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpOwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvbW9kaWZ5IiwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdG9hc3QoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmm7TmlrDmiJDlip/vvIEiLAogICAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwKICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3QoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goZXJyb3IucmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/PersonalInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page-personal-info\">\n    <div class=\"columns is-mobile\">\n      <div class=\"column is-5 is-offset-1\">\n        <form v-if=\"!changed\" @submit.prevent=\"changed = true\">\n          <h1 class=\"title\">个人信息</h1>\n          <div class=\"field\">\n            <label>用户名</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"username\" readonly />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>手机号</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"phone_number\" readonly />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>邮箱</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"email\" readonly />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>身份证</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"id_card\" readonly />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">修改信息</button>\n            </div>\n          </div>\n        </form>\n\n        <form v-if=\"changed\" @submit.prevent=\"submitForm\">\n          <h1 class=\"title\">信息修改</h1>\n          <div class=\"field\">\n            <label>用户名</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input is-info\" v-model=\"username\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>手机号</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input is-info\" v-model=\"phone_number\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>邮箱</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input is-info\" v-model=\"email\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>身份证(禁止修改)</label>\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"id_card\" readonly />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>当前密码</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input is-primary\" v-model=\"password\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>新密码(若无需修改请勿输入内容)</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input is-info\" v-model=\"new_password\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>重复输入新密码</label>\n            <div class=\"control\">\n              <input type=\"password\" class=\"input is-info\" v-model=\"new_password2\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">确认修改</button>\n            </div>\n          </div>\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n            <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n          </div>\n        </form>\n        <hr />\n        <div class=\"field\">\n          <div class=\"control\">\n            <button class=\"button is-dark\" v-if=\"changed\" @click=\"getInfo(), (changed = false)\">取消修改</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"column is-4 is-offset-1\">\n        <h2 class=\"title is-3\">地址管理</h2>\n        <div class=\"address\">\n          <Address v-for=\"address in addresses\" :key=\"address.id\" :address=\"address\"></Address>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  import Address from \"../components/address.vue\";\n  export default {\n    name: \"PersonalInfo\",\n    components: {\n      Address,\n    },\n    data() {\n      return {\n        changed: false,\n        id_card: \"\",\n        username: \"\",\n        phone_number: \"\",\n        email: \"\",\n        password: \"\",\n        new_password: \"\",\n        new_password2: \"\",\n        errors: [],\n        addresses: [],\n        answer: \"\",\n        type: \"0\",\n      };\n    },\n    mounted() {\n      document.title = \"个人资料\";\n      //在进入页面时获取个人资料\n      this.getInfo();\n    },\n    methods: {\n      show() {\n        console.log(this.answer);\n      },\n      getInfo() {\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n        };\n        axios.post(\"/api/info\", formData).then((response) => {\n          console.log(response);\n          this.id_card = response.data.idCard;\n          this.username = response.data.username;\n          this.phone_number = response.data.phone;\n          this.email = response.data.email;\n        });\n        axios.post(\"/api/address\", formData).then((response) => {\n          console.log(response.data.items);\n          this.addresses = response.data.items;\n          console.log(this.addresses);\n        });\n      },\n      changeProfile() {\n        this.changed = true;\n      },\n      cancelChange() {\n        this.changed = false;\n      },\n      submitForm() {\n        //前端合规性判断\n        this.errors = [];\n        if (this.username.length === 0) {\n          this.errors.push(\"用户名不得为空\");\n        } else if (!/^\\w+$/.test(this.username) || this.username.length > 10 || this.username.length < 3) {\n          this.errors.push(\"用户名格式不正确(英文、数字、下划线，长度为3-10个字符)\");\n        }\n        if (this.phone_number.length === 0) {\n          this.errors.push(\"手机号不得为空\");\n        } else if (!/^1[3-9]\\d{9}$/.test(this.phone_number)) {\n          this.errors.push(\"请输入中国大陆的手机号(11位，第一位为1，第二位为3-9其中之一)\");\n        }\n        if (this.email.length === 0) {\n          this.errors.push(\"E-mail不得为空\");\n        } else if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(this.email)) {\n          this.errors.push(\"请输入正确的E-mail(用户名+@+域名)\");\n        }\n        if (this.password.length === 0) {\n          this.errors.push(\"请输入密码以更改\");\n        }\n        if (this.new_password !== this.new_password2) {\n          this.errors.push(\"两次输入的新密码不一致\");\n        } else if (this.new_password.length === 0) {\n        } else if (\n          !/^(?=.*[a-zA-Z])(?=.*\\d)|(?=.*\\d)(?=.*[-_])|(?=.*[a-zA-Z])(?=.*[-_])[a-zA-Z\\d-_]{6,32}$/.test(\n            this.new_password\n          )\n        ) {\n          this.errors.push(\"请输入满足要求的新密码(6-32个字符，至少包含字母、数字或者（-_）中的至少两种)\");\n        }\n        if (this.errors.length === 0) {\n          //接口\n          if (this.new_password.length) {\n            var formData = {\n              authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n              username: this.username,\n              email: this.email,\n              phone_number: this.phone_number,\n              current_password: this.password,\n              password: this.new_password,\n            };\n          } else {\n            var formData = {\n              authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n              username: this.username,\n              email: this.email,\n              phone_number: this.phone_number,\n              current_password: this.password,\n            };\n          }\n          console.log(formData);\n          axios\n            .post(\"/api/modify\", formData)\n            .then((response) => {\n              console.log(response);\n              if (response.status == 200) {\n                toast({\n                  message: \"更新成功！\",\n                  type: \"is-success\",\n                  dismissible: true,\n                  pauseOnHover: true,\n                  duration: 2000,\n                  position: \"bottom-right\",\n                });\n              } else {\n                toast({\n                  message: response.data.message,\n                  type: \"warning\",\n                  dismissible: true,\n                  pauseOnHover: true,\n                  duration: 2000,\n                  position: \"bottom-right\",\n                });\n              }\n            })\n            .catch((error) => {\n              if (error.response) {\n                this.errors.push(error.response.data);\n                console.log(formData);\n              } else if (error.message) {\n                this.errors.push(error.message);\n              }\n            });\n        }\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}