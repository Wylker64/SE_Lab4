{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/ReviewProduct.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/ReviewProduct.vue","mtime":1681987221151},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFByb2R1Y3RCb3ggZnJvbSAiQC9jb21wb25lbnRzL1Byb2R1Y3RCb3gudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXZpZXdQcm9kdWN0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZV9udW0xOiAxLAogICAgICAvL+aWsOWinuWVhuWTgeWuoeafpemhtQogICAgICBwYWdlX251bTI6IDEsCiAgICAgIC8v5L+u5pS55ZWG5ZOB5a6h5p+l6aG1CiAgICAgIHRvdGFsX3BhZ2VzXzE6IDAsCiAgICAgIHRvdGFsX3BhZ2VzXzI6IDAsCiAgICAgIHByb2R1Y3RzMTogW10sCiAgICAgIHByb2R1Y3RzMjogW10sCiAgICAgIGVycm9yczogW10sCiAgICAgIHR5cGU6ICIwIiwKICAgICAgLy/ooajnpLrmmK/lnKjnrqHnkIblkZjnlYzpnaLosIPnlKhwcm9kdWN0Ym94CiAgICAgIHJldmlldzE6ICJjcmVhdGUiLAogICAgICByZXZpZXcyOiAibW9kaWZ5IgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBybygxKTsKICAgIHRoaXMuZ2V0UHJvKDIpOwogIH0sCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdEJveDogUHJvZHVjdEJveAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvOiBmdW5jdGlvbiBnZXRQcm8oZmxhZykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2VfbnVtOwogICAgICB2YXIgdXJsOwoKICAgICAgaWYgKGZsYWcgPT09IDEpIHsKICAgICAgICB1cmwgPSAiL2FwaS9wcm9kdWN0L2NyZWF0ZS9yZXZpZXciOwogICAgICAgIHBhZ2VfbnVtID0gdGhpcy5wYWdlX251bTE7CiAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PT0gMikgewogICAgICAgIHVybCA9ICIvYXBpL3Byb2R1Y3QvbW9kaWZ5L3JldmlldyI7CiAgICAgICAgcGFnZV9udW0gPSB0aGlzLnBhZ2VfbnVtMjsKICAgICAgfQoKICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgIGF1dGhvcml6ZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXplIikgfHwgInt9IiksCiAgICAgICAgcGFnZV9udW06IHBhZ2VfbnVtLAogICAgICAgIHJldmlldzogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXplIikgfHwgInt9IikudXNlcm5hbWUgPT0gImFkbWluIgogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7CiAgICAgIHZhciB0b3RhbF9wYWdlczsKICAgICAgYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB0b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEudG90YWxfcGFnZXM7CiAgICAgICAgaWYgKGZsYWcgPT09IDEpIF90aGlzLnByb2R1Y3RzMSA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdHM7ZWxzZSBpZiAoZmxhZyA9PT0gMikgX3RoaXMucHJvZHVjdHMyID0gcmVzcG9uc2UuZGF0YS5wcm9kdWN0czsKCiAgICAgICAgaWYgKGZsYWcgPT09IDEpIHsKICAgICAgICAgIF90aGlzLnRvdGFsX3BhZ2VzXzEgPSB0b3RhbF9wYWdlczsKICAgICAgICB9IGVsc2UgaWYgKGZsYWcgPT09IDIpIHsKICAgICAgICAgIF90aGlzLnRvdGFsX3BhZ2VzXzIgPSB0b3RhbF9wYWdlczsKICAgICAgICB9CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/ReviewProduct.vue"],"names":[],"mappings":"AA0DE,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,6BAAvB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,eADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,CADN;AACS;AACd,MAAA,SAAS,EAAE,CAFN;AAES;AACd,MAAA,aAAa,EAAE,CAHV;AAIL,MAAA,aAAa,EAAE,CAJV;AAKL,MAAA,SAAS,EAAE,EALN;AAML,MAAA,SAAS,EAAE,EANN;AAOL,MAAA,MAAM,EAAE,EAPH;AAQL,MAAA,IAAI,EAAE,GARD;AAQM;AACX,MAAA,OAAO,EAAE,QATJ;AAUL,MAAA,OAAO,EAAE;AAVJ,KAAP;AAYD,GAfY;AAgBb,EAAA,OAhBa,qBAgBH;AACR,SAAK,MAAL,CAAY,CAAZ;AACA,SAAK,MAAL,CAAY,CAAZ;AACD,GAnBY;AAoBb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV;AADU,GApBC;AAuBb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,kBACA,IADA,EACM;AAAA;;AACX,UAAI,QAAJ;AACA,UAAI,GAAJ;;AACA,UAAI,IAAG,KAAM,CAAb,EAAgB;AACd,QAAA,GAAE,GAAI,4BAAN;AACA,QAAA,QAAO,GAAI,KAAK,SAAhB;AACF,OAHA,MAGO,IAAI,IAAG,KAAM,CAAb,EAAgB;AACrB,QAAA,GAAE,GAAI,4BAAN;AACA,QAAA,QAAO,GAAI,KAAK,SAAhB;AACF;;AACA,UAAI,QAAO,GAAI;AACb,QAAA,SAAS,EAAE,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAhD,CADE;AAEb,QAAA,QAAQ,EAAE,QAFG;AAGb,QAAA,MAAM,EAAE,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAhD,EAAsD,QAAtD,IAAkE;AAH7D,OAAf;AAKA,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,UAAI,WAAJ;AACA,MAAA,KAAI,CACD,IADH,CACQ,GADR,EACa,QADb,EAEG,IAFH,CAEQ,UAAC,QAAD,EAAc;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,QAAA,WAAU,GAAI,QAAQ,CAAC,IAAT,CAAc,WAA5B;AACA,YAAI,IAAG,KAAM,CAAb,EAAgB,KAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,QAA/B,CAAhB,KACK,IAAI,IAAG,KAAM,CAAb,EAAgB,KAAI,CAAC,SAAL,GAAiB,QAAQ,CAAC,IAAT,CAAc,QAA/B;;AACrB,YAAI,IAAG,KAAM,CAAb,EAAgB;AACd,UAAA,KAAI,CAAC,aAAL,GAAqB,WAArB;AACF,SAFA,MAEO,IAAI,IAAG,KAAM,CAAb,EAAgB;AACrB,UAAA,KAAI,CAAC,aAAL,GAAqB,WAArB;AACF;AACD,OAZH,WAaS,UAAC,KAAD,EAAW;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAfH;AAgBD;AAlCM;AAvBI,CAAf","sourcesContent":["<template>\n  <div class=\"review\">\n    <div class=\"columns\">\n      <div class=\"column is-6\">\n        <h1 class=\"title\">增添商品申请</h1>\n        <div class=\"field\">\n          <label>页面/共{{ total_pages_1 }}页</label>\n          <div class=\"column is-3\">\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"page_num1\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"field\">\n          <div class=\"control\">\n            <button class=\"button is-dark\" @click=\"getPro(1)\">搜索！</button>\n          </div>\n        </div>\n        <div class=\"columns is-multiline\">\n          <ProductBox\n            v-for=\"product in products1\"\n            :key=\"product.id\"\n            :product=\"product\"\n            :type=\"type\"\n            :review=\"review1\"\n          ></ProductBox>\n        </div>\n      </div>\n      <div class=\"column is-6\">\n        <h1 class=\"title\">修改商品申请</h1>\n        <div class=\"field\">\n          <label>页面/共{{ total_pages_2 }}页</label>\n          <div class=\"column is-3\">\n            <div class=\"control\">\n              <input type=\"text\" class=\"input\" v-model=\"page_num2\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"field\">\n          <div class=\"control\">\n            <button class=\"button is-dark\" @click=\"getPro(2)\">搜索！</button>\n          </div>\n        </div>\n        <div class=\"columns is-multiline\">\n          <ProductBox\n            v-for=\"product in products2\"\n            :key=\"product.id\"\n            :product=\"product\"\n            :type=\"type\"\n            :review=\"review2\"\n          ></ProductBox>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import ProductBox from \"@/components/ProductBox.vue\";\n  export default {\n    name: \"ReviewProduct\",\n    data() {\n      return {\n        page_num1: 1, //新增商品审查页\n        page_num2: 1, //修改商品审查页\n        total_pages_1: 0,\n        total_pages_2: 0,\n        products1: [],\n        products2: [],\n        errors: [],\n        type: \"0\", //表示是在管理员界面调用productbox\n        review1: \"create\",\n        review2: \"modify\",\n      };\n    },\n    mounted() {\n      this.getPro(1);\n      this.getPro(2);\n    },\n    components: {\n      ProductBox,\n    },\n    methods: {\n      getPro(flag) {\n        var page_num;\n        var url;\n        if (flag === 1) {\n          url = \"/api/product/create/review\";\n          page_num = this.page_num1;\n        } else if (flag === 2) {\n          url = \"/api/product/modify/review\";\n          page_num = this.page_num2;\n        }\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          page_num: page_num,\n          review: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\").username == \"admin\",\n        };\n        console.log(formData);\n        var total_pages;\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            total_pages = response.data.total_pages;\n            if (flag === 1) this.products1 = response.data.products;\n            else if (flag === 2) this.products2 = response.data.products;\n            if (flag === 1) {\n              this.total_pages_1 = total_pages;\n            } else if (flag === 2) {\n              this.total_pages_2 = total_pages;\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}