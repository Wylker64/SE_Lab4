{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue","mtime":1684501431206},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGF5bWVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9yZGVyOiB7fSwKICAgICAgdXNlcjoge30KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAi5pSv5LuY6K6i5Y2VIjsgLy8g6I635Y+W6K6i5Y2V5ZKM55So5oi35L+h5oGvLi4uCiAgfSwKICBtZXRob2RzOiB7CiAgICBwYXlPcmRlcjogZnVuY3Rpb24gcGF5T3JkZXIoKSB7CiAgICAgIGlmICh0aGlzLnVzZXIuYmFsYW5jZSA+PSB0aGlzLm9yZGVyLnRvdGFsX2Ftb3VudCkgewogICAgICAgIC8vIOaJp+ihjOaUr+S7mOmAu+i+kS4uLgogICAgICAgIC8vIOabtOaWsOiuouWNleeKtuaAgeS4uuKAnOW3suaUr+S7mOKAnQogICAgICAgIC8vIOWwhuiuouWNlemHkemineS7jueUqOaIt+i0puaIt+S4reaJo+mZpOW5tui9rOenu+WIsOWVhuWfjueahOaaguWtmOi0puaIt+S4rQogICAgICAgIHRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6ICLmlK/ku5jmiJDlip/vvIEiLAogICAgICAgICAgdHlwZTogImlzLXN1Y2Nlc3MiLAogICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvb3JkZXItbWFuYWdlbWVudCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6ICLmlK/ku5jlpLHotKXvvIHotKbmiLfkvZnpop3kuI3otrPjgIIiLAogICAgICAgICAgdHlwZTogImlzLWRhbmdlciIsCiAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9vcmRlci1tYW5hZ2VtZW50Iik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue"],"names":[],"mappings":"AAuCE,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,IAAI,EAAE;AAFD,KAAP;AAID,GAPY;AAQb,EAAA,OARa,qBAQH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,MAAjB,CADQ,CAER;AACD,GAXY;AAYb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACI;AACT,UAAI,KAAK,IAAL,CAAU,OAAV,IAAqB,KAAK,KAAL,CAAW,YAApC,EAAkD;AAChD;AACA;AACA;AACA,QAAA,KAAK,CAAC;AACJ,UAAA,OAAO,EAAE,OADL;AAEJ,UAAA,IAAI,EAAE,YAFF;AAGJ,UAAA,WAAW,EAAE,IAHT;AAIJ,UAAA,YAAY,EAAE,IAJV;AAKJ,UAAA,QAAQ,EAAE,IALN;AAMJ,UAAA,QAAQ,EAAE;AANN,SAAD,CAAL;AAQA,aAAK,OAAL,CAAa,IAAb,CAAkB,mBAAlB;AACF,OAbA,MAaO;AACL,QAAA,KAAK,CAAC;AACJ,UAAA,OAAO,EAAE,cADL;AAEJ,UAAA,IAAI,EAAE,WAFF;AAGJ,UAAA,WAAW,EAAE,IAHT;AAIJ,UAAA,YAAY,EAAE,IAJV;AAKJ,UAAA,QAAQ,EAAE,IALN;AAMJ,UAAA,QAAQ,EAAE;AANN,SAAD,CAAL;AAQA,aAAK,OAAL,CAAa,IAAb,CAAkB,mBAAlB;AACF;AACD;AA1BM;AAZI,CAAf","sourcesContent":["<template>\n  <div class=\"page-payment\">\n    <div class=\"columns\">\n      <div class=\"column is-6\">\n        <h1 class=\"title\">支付订单</h1>\n        <div class=\"payment-details\">\n          <div class=\"box\">\n            <div class=\"field\">\n              <h2 class=\"subtitle\">订单详情</h2>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>订单编号：{{ order.order_id }}</div>\n              </div>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>订单金额：{{ order.total_amount }}</div>\n              </div>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>账户余额：{{ user.balance }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div class=\"payment-actions\">\n          <button class=\"button is-dark\" :disabled=\"user.balance < order.total_amount\" @click=\"payOrder\">\n            确认支付\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n\n  export default {\n    name: \"Payment\",\n    data() {\n      return {\n        order: {},\n        user: {},\n      };\n    },\n    mounted() {\n      document.title = \"支付订单\";\n      // 获取订单和用户信息...\n    },\n    methods: {\n      payOrder() {\n        if (this.user.balance >= this.order.total_amount) {\n          // 执行支付逻辑...\n          // 更新订单状态为“已支付”\n          // 将订单金额从用户账户中扣除并转移到商城的暂存账户中\n          toast({\n            message: \"支付成功！\",\n            type: \"is-success\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\",\n          });\n          this.$router.push(\"/order-management\");\n        } else {\n          toast({\n            message: \"支付失败！账户余额不足。\",\n            type: \"is-danger\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\",\n          });\n          this.$router.push(\"/order-management\");\n        }\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}