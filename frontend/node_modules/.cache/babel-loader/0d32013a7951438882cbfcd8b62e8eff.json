{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ProductBox.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ProductBox.vue","mtime":1684581853674},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGF0aDogIiIsCiAgICAgIGluZGV4OiAwLAogICAgICBpc19hZG1pbjogZmFsc2UsCiAgICAgIGlzX3VzZXI6IGZhbHNlLAogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHByb2R1Y3Q6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICByZXZpZXc6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJbWc6IGZ1bmN0aW9uIGdldEltZygpIHsKICAgICAgdGhpcy5wYXRoID0gImh0dHA6Ly8xMTkuMy4xODQuMTM4OjgwL2ZpbGUvcHJvZHVjdC9pbWcvIiArIHRoaXMucHJvZHVjdC5pZCArICItIiArIHRoaXMuaW5kZXggKyAiLnBuZyI7CiAgICB9LAogICAgYnRuTGVmdDogZnVuY3Rpb24gYnRuTGVmdCgpIHsKICAgICAgdGhpcy5pbmRleC0tOwogICAgICB0aGlzLmdldEltZygpOwogICAgfSwKICAgIGJ0blJpZ2h0OiBmdW5jdGlvbiBidG5SaWdodCgpIHsKICAgICAgdGhpcy5pbmRleCsrOwogICAgICB0aGlzLmdldEltZygpOwogICAgfSwKICAgIHRvX29yZGVyOiBmdW5jdGlvbiB0b19vcmRlcigpIHsKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgaWQ6IHRoaXMucHJvZHVjdC5pZCwKICAgICAgICBjb3VudDogMSwKICAgICAgICBzaG9wX25hbWU6IHRoaXMucHJvZHVjdC5zaG9wX25hbWUsCiAgICAgICAgcHJpY2U6IHRoaXMucHJvZHVjdC5wcmljZQogICAgICB9OwogICAgICB2YXIgaXRlbXMgPSBbaXRlbV07CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAib3JkZXIiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaXRlbXM6IEpTT04uc3RyaW5naWZ5KGl0ZW1zKSwKICAgICAgICAgIHR5cGU6IDEKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5LiK5Lyg5a6h5om557uT5p6cCiAgICByZWxlYXNlOiBmdW5jdGlvbiByZWxlYXNlKGFwcHJvdmVkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgYXV0aG9yaXplOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRob3JpemUiKSB8fCAie30iKSwKICAgICAgICBpbmZvX2lkOiB0aGlzLnByb2R1Y3QuaWQsCiAgICAgICAgYXBwcm92ZWQ6IGFwcHJvdmVkLAogICAgICAgIHJldmlldzogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXplIikgfHwgInt9IikudXNlcm5hbWUgPT0gImFkbWluIgogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSk7CiAgICAgIHZhciB1cmw7CiAgICAgIGlmICh0aGlzLnJldmlldyA9PT0gImNyZWF0ZSIpIHVybCA9ICIvYXBpL3Byb2R1Y3QvY3JlYXRlL2FwcHJvdmFsIjtlbHNlIGlmICh0aGlzLnJldmlldyA9PT0gIm1vZGlmeSIpIHVybCA9ICIvYXBpL3Byb2R1Y3QvbW9kaWZ5L2FwcHJvdmFsIjsKICAgICAgYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogIuWujOaIkOWVhuWTgeWuoeaguO+8gSIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwKICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHBvc2l0aW9uOiAiY2VudGVyIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogImNlbnRlciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycm9yLnJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yLnJlc3BvbnNlKSk7CiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKCJTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiIpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/lsIbllYblk4Hmt7vliqDov5vlhaXotK3nianovaYKICAgIHRvX2NhcnQ6IGZ1bmN0aW9uIHRvX2NhcnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgIGF1dGhvcml6ZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYXV0aG9yaXplIikgfHwgInt9IiksCiAgICAgICAgcHJvZHVjdF9pZDogdGhpcy5wcm9kdWN0LmlkCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTsKICAgICAgdmFyIHVybCA9ICIvYXBpL2NhcnQvY3JlYXRlIjsKICAgICAgYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogIua3u+WKoOi0reeJqei9puaIkOWKn++8gSIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwKICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaChlcnJvci5yZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZSkpOwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaCgiU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4iKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnR5cGUgPT09ICIyIikgewogICAgICB0aGlzLmlzX3VzZXIgPSB0cnVlOwogICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICIwIikgewogICAgICB0aGlzLmlzX2FkbWluID0gdHJ1ZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEltZygpOwogIH0KfTs="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/components/ProductBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"column is-4\">\n    <div class=\"card\">\n      <div class=\"card-image\">\n        <figure class=\"image is-4by3\">\n          <img :src=\"path\" alt=\"Placeholder image\" />\n        </figure>\n        <div class=\"button\" id=\"left\" v-show=\"index > 0\" @click=\"btnLeft\">&lt;</div>\n        <div class=\"button\" id=\"right\" v-show=\"index < product.image_num - 1\" @click=\"btnRight\">\n          &gt;\n        </div>\n      </div>\n      <div class=\"card-content\">\n        <div class=\"media\">\n          <div class=\"media-content\">\n            <p class=\"title is-4\">名称:{{ product.name }}</p>\n            <p v-if=\"is_admin\" class=\"title is-6\">ID:{{ product.id }}</p>\n          </div>\n        </div>\n\n        <div class=\"content\">描述：{{ product.description }}</div>\n      </div>\n      <footer v-if=\"is_admin\" class=\"card-footer\">\n        <button class=\"button is-primary\" @click=\"release(true)\">通过</button>\n        <button class=\"button is-danger\" @click=\"release(false)\">拒绝</button>\n        <div class=\"notification is-danger\" v-if=\"errors.length\">\n          <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n        </div>\n      </footer>\n      <footer v-if=\"is_user\" class=\"card-footer\">\n        <div class=\"control\">\n          <button class=\"button is-dark\" @click=\"to_cart\">加入购物车</button>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-dark\" @click=\"to_order\">立即购买</button>\n        </div>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  export default {\n    data() {\n      return {\n        path: \"\",\n        index: 0,\n        is_admin: false,\n        is_user: false,\n        errors: [],\n      };\n    },\n    props: {\n      product: { type: Object },\n      type: { type: String },\n      review: { type: String },\n    },\n    methods: {\n      getImg() {\n        this.path = \"http://119.3.184.138:80/file/product/img/\" + this.product.id + \"-\" + this.index + \".png\";\n      },\n      btnLeft() {\n        this.index--;\n        this.getImg();\n      },\n      btnRight() {\n        this.index++;\n        this.getImg();\n      },\n      to_order() {\n        var item = {\n          id: this.product.id,\n          count: 1,\n          shop_name: this.product.shop_name,\n          price: this.product.price,\n        };\n        var items = [item];\n        this.$router.push({ name: \"order\", params: { items: JSON.stringify(items), type: 1 } });\n      },\n      //上传审批结果\n      release(approved) {\n        this.errors = [];\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          info_id: this.product.id,\n          approved: approved,\n          review: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\").username == \"admin\",\n        };\n        console.log(formData);\n        var url;\n        if (this.review === \"create\") url = \"/api/product/create/approval\";\n        else if (this.review === \"modify\") url = \"/api/product/modify/approval\";\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            if (response.status == 200) {\n              toast({\n                message: \"完成商品审核！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            } else {\n              toast({\n                message: response.status,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n            if (error.response) {\n              this.errors.push(error.response.data);\n              console.log(JSON.stringify(error.response));\n            } else if (error.message) {\n              // this.errors.push(\"Something went wrong. Please try again\");\n              console.log(error.response);\n            }\n          });\n      },\n      //将商品添加进入购物车\n      to_cart() {\n        this.errors = [];\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          product_id: this.product.id,\n        };\n        console.log(formData);\n        var url = \"/api/cart/create\";\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            if (response.status == 200) {\n              toast({\n                message: \"添加购物车成功！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n            } else {\n              toast({\n                message: response.status,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n            if (error.response) {\n              this.errors.push(error.response.data);\n              console.log(JSON.stringify(error.response));\n            } else if (error.message) {\n              // this.errors.push(\"Something went wrong. Please try again\");\n              console.log(error.response);\n            }\n          });\n      },\n    },\n    mounted() {\n      if (this.type === \"2\") {\n        this.is_user = true;\n      } else if (this.type === \"0\") {\n        this.is_admin = true;\n      }\n    },\n    created() {\n      this.getImg();\n    },\n  };\n</script>\n\n<style>\n  .turning_button {\n    position: absolute;\n    width: 30px;\n    height: 50px;\n    text-align: center;\n    line-height: 50px;\n    top: 50%;\n    margin-top: -25px;\n    border: 1px solid #fff;\n    opacity: 0.3;\n    cursor: pointer;\n    color: #fff;\n    background: black;\n  }\n  #right {\n    left: 100%;\n    margin-left: -30px;\n  }\n</style>\n"],"sourceRoot":""}]}