{"remainingRequest":"/Users/kerunyu/Desktop/frontend/node_modules/babel-loader/lib/index.js!/Users/kerunyu/Desktop/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kerunyu/Desktop/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/kerunyu/Desktop/frontend/src/views/Warehouse.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/kerunyu/Desktop/frontend/src/views/Warehouse.vue","mtime":1678861853454},{"path":"/Users/kerunyu/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/frontend/node_modules/babel-loader/lib/index.js","mtime":1671711214000},{"path":"/Users/kerunyu/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1671711210000},{"path":"/Users/kerunyu/Desktop/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1671711212000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnV2FyZWhvdXNlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvcG5hbWU6ICcnLAogICAgICAiY2xhc3MiOiAnJywKICAgICAgaWQ6ICcnLAogICAgICBpbnRyb2R1Y3Rpb246ICcnLAogICAgICBsb2NhdGlvbjogJycsCiAgICAgIG1vbmV5OiAnJywKICAgICAgdGltZTogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSAn55Sz6K+35byA5bqX77yBJzsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMuc2hvcG5hbWUubGVuZ3RoID4gMTIpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCflupflkI3opoHlnKgxMuS4quWtl+espuS7peWGhScpOwogICAgICB9CgogICAgICBpZiAodGhpc1siY2xhc3MiXSA9PSAnJykgewogICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgn6K+35o+Q5L6b5q2j56Gu55qE5ZWG5ZOB57G75YirJyk7CiAgICAgIH0KCiAgICAgIGlmICgvXlxkezE4fSQvLnRlc3QodGhpcy5pZCkpIHsKICAgICAgICBjb25zb2xlLmxvZygpOwogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ+ivt+i+k+WFpeato+ehrueahOS4reWbvei6q+S7veivgeWPt++8jOS4gOWFsTE45L2NJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmludHJvZHVjdGlvbi5sZW5ndGggPiAxMjgpIHsKICAgICAgICBjb25zb2xlLmxvZygpOwogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ+eugOS7i+imgeWcqDEy5Liq5a2X56ym5Lul5YaFJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmludHJvZHVjdGlvbi5sb2NhdGlvbiA+IDMyKSB7CiAgICAgICAgY29uc29sZS5sb2coKTsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCflpIfmoYjlnLDlnYDopoHlnKgzMuS4quWtl+espuS7peWGhScpOwogICAgICB9CgogICAgICBpZiAoL14oWzEtOV1cZHszLH18WzEtOV1cZHswLDJ9KCxcZHszfSkrKShcLlxkKyk/JC8udGVzdCh0aGlzLm1vbmV5KSkgewogICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgn5rOo5YaM6LWE6YeR6Iez5bCR6ZyA6KaBMTAwMOWFgycpOwogICAgICB9CgogICAgICBpZiAoL15cZHs0fS1cZHsyfS1cZHsyfSQvLnRlc3QodGhpcy50aW1lKSkgewogICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgn5pel5pyf5LiN5ZCI6KeE77yM6K+35oyJ54WnWVlZWS1NTS1EROi+k+WFpScpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICAgIHNob3BuYW1lOiB0aGlzLnNob3BuYW1lLAogICAgICAgICAgImNsYXNzIjogdGhpc1siY2xhc3MiXSwKICAgICAgICAgIGludHJvZHVjdGlvbjogdGhpcy5pbnRyb2R1Y3Rpb24sCiAgICAgICAgICBtb25leTogdGhpcy5tb25leSwKICAgICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sCiAgICAgICAgICB0aW1lOiB0aGlzLnRpbWUKICAgICAgICB9OwogICAgICAgIGF4aW9zLnBvc3QoJ3JlZ2lzdGVyJywgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgICAgdG9hc3QoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICflvIDlupfmiJDlip/vvIEnLAogICAgICAgICAgICAgIHR5cGU6ICdpcy1zdWNjZXNzJywKICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgIH0pOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZy1pbicpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdCh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goZXJyb3IubWVzc2FnZSk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/kerunyu/Desktop/frontend/src/views/Warehouse.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"page-warehouse\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">开店</h1>\n\n                <form @submit.prevent=\"submitForm\">\n\n                    <div class=\"field\">\n                        <label>店名</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"shopname\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>售卖商品类别</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"class\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>身份证号</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"id\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>商店简介</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"introduction\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>备案地址</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"location\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>注册资金</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"money\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>注册时间</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"time\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark\">开店！</button>\n                        </div>\n                    </div>\n\n                    <hr>\n\n\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\nexport default {\n    name: 'Warehouse',\n    data() {\n        return {\n            shopname: '',\n            class: '',\n            id: '',\n            introduction: '',\n            location: '',\n            money: '',\n            time: '',\n            errors: []\n        }\n    },\n    mounted() {\n        document.title = '申请开店！';\n\n    },\n    methods: {\n        submitForm() {\n            this.errors = []\n            if (this.shopname.length > 12) {\n                this.errors.push('店名要在12个字符以内')\n            }\n\n            if (this.class=='') {\n                console.log()\n                this.errors.push('请提供正确的商品类别')\n            }\n\n            if (/^\\d{18}$/.test(this.id)) {\n                console.log()\n                this.errors.push('请输入正确的中国身份证号，一共18位')\n            }\n\n            if (this.introduction.length > 128) {\n                console.log()\n                this.errors.push('简介要在12个字符以内')\n            }\n            if (this.introduction.location > 32) {\n                console.log()\n                this.errors.push('备案地址要在32个字符以内')\n            }\n   \n            if (/^([1-9]\\d{3,}|[1-9]\\d{0,2}(,\\d{3})+)(\\.\\d+)?$/.test(this.money)) {\n                console.log()\n                this.errors.push('注册资金至少需要1000元')\n            }\n\n            if (/^\\d{4}-\\d{2}-\\d{2}$/.test(this.time)) {\n                console.log()\n                this.errors.push('日期不合规，请按照YYYY-MM-DD输入')\n            }\n\n            if (!this.errors.length) {\n                    var formData =  {\n\n\n                    shopname: this.shopname,\n                    class: this.class,\n                    introduction: this.introduction,\n                    money: this.money,\n                    id: this.id,\n                    location: this.location,\n                    time: this.time,\n                }\n\n\n                axios\n                    .post('register', formData)\n                    .then(response => {\n                        if (response.data.success == true){\n                            toast({\n                            message: '开店成功！',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n                        // this.$router.push('/log-in')\n                        } else{\n                            toast({\n                            message: response.data.message,\n                            type: 'warning',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                            \n                        })\n\n                        }\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            \n                            this.errors.push(error.message)\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n            }\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}