{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/babel-loader/lib/index.js!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Open.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Open.vue","mtime":1682245491861},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJPcGVuIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvcG5hbWU6ICIiLAogICAgICB0eXBlOiAiIiwKICAgICAgaWRfY2FyZDogIiIsCiAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgYWRkcmVzczogIiIsCiAgICAgIGNhcGl0YWw6ICIiLAogICAgICBkYXRlOiAiIiwKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICLnlLPor7flvIDlupfvvIEiOwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRfZGF0ZTogZnVuY3Rpb24gdmFsaWRfZGF0ZSh2YWx1ZSkgewogICAgICB2YXIgZGF5cyA9IFswLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTsKICAgICAgdmFyIFlNRCA9IHZhbHVlLnNwbGl0KCItIik7CiAgICAgIHZhciB5ID0gcGFyc2VJbnQoWU1EWzBdLCAxMCk7CiAgICAgIHZhciBtID0gcGFyc2VJbnQoWU1EWzFdLCAxMCk7CiAgICAgIHZhciBkID0gcGFyc2VJbnQoWU1EWzJdLCAxMCk7IC8vIGNvbnNvbGUubG9nKHkpCiAgICAgIC8vIGNvbnNvbGUubG9nKG0pCiAgICAgIC8vIGNvbnNvbGUubG9nKGQpCiAgICAgIC8v5Yik5pat5pyI5Lu95piv5ZCm5ZCI5rOVCgogICAgICBpZiAobSA+IDEyIHx8IG0gPCAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8v5Yik5pat5piv5ZCm5piv6Zew5bm0CgoKICAgICAgaWYgKHkgJSA0ID09IDAgJiYgeSAlIDEwMCAhPSAwIHx8IHkgJSA0MDAgPT0gMCkgewogICAgICAgIGRheXNbMl0gPSAyOTsKICAgICAgfSAvL+WIpOaWreW9k+aciOWkqeaVsOaYr+WQpuWQiOazlQoKCiAgICAgIGlmIChkID4gZGF5c1ttXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZXJyb3JzID0gW107CgogICAgICBpZiAodGhpcy5zaG9wbmFtZS5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLlupflkI3kuI3lj6/kuLrnqboiKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNob3BuYW1lLmxlbmd0aCA+IDEyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi5bqX5ZCN6KaB5ZyoMTLkuKrlrZfnrKbku6XlhoUiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gIiIpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLor7fmj5DkvpvmraPnoa7nmoTllYblk4HnsbvliKsiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaWRfY2FyZC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLouqvku73or4Hlj7fkuI3lvpfkuLrnqboiKTsKICAgICAgfSBlbHNlIGlmICghL15bMS05XVxkezE2fShYfFxkKSQvLnRlc3QodGhpcy5pZF9jYXJkKSkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIuivt+i+k+WFpeato+ehrueahOS4reWbvei6q+S7veivgeWPt++8jOS4gOWFsTE45L2NIik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIueugOS7i+S4jeW+l+S4uuepuiIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGVzY3JpcHRpb24ubGVuZ3RoID4gMTI4KSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi566A5LuL6KaB5ZyoMTLkuKrlrZfnrKbku6XlhoUiKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYWRkcmVzcy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLlpIfmoYjlnLDlnYDkuI3lvpfkuLrnqboiKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmFkZHJlc3MubGVuZ3RoID4gMzIpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLlpIfmoYjlnLDlnYDopoHlnKgzMuS4quWtl+espuS7peWGhSIpOwogICAgICB9CgogICAgICBpZiAoIS9eKFsxLTldXGR7Myx9fFsxLTldXGR7MCwyfSgsXGR7M30pKykoXC5cZCspPyQvLnRlc3QodGhpcy5jYXBpdGFsKSkgewogICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgi5rOo5YaM6LWE6YeR6Iez5bCR6ZyA6KaBMTAwMOWFgyIpOwogICAgICB9CgogICAgICBpZiAoIS9eXGR7NH0tXGR7Mn0tXGR7Mn0kLy50ZXN0KHRoaXMuZGF0ZSkpIHsKICAgICAgICBjb25zb2xlLmxvZygpOwogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIuaXpeacn+S4jeWQiOinhO+8jOivt+aMieeFp1lZWVktTU0tRETovpPlhaUiKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy52YWxpZF9kYXRlKHRoaXMuZGF0ZSkpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZhbGlkX2RhdGUodGhpcy5kYXRlKSk7CiAgICAgICAgY29uc29sZS5sb2coKTsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCLovpPlhaXml6XmnJ/pnZ7ms5UiKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgICBhdXRob3JpemU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhvcml6ZSIpIHx8ICJ7fSIpLAogICAgICAgICAgc2hvcF9uYW1lOiB0aGlzLnNob3BuYW1lLAogICAgICAgICAgdHlwZTogdGhpcy50eXBlLAogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgICBjYXBpdGFsOiB0aGlzLmNhcGl0YWwsCiAgICAgICAgICBpZF9jYXJkOiB0aGlzLmlkX2NhcmQsCiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsCiAgICAgICAgICBkYXRlOiB0aGlzLmRhdGUKICAgICAgICB9OwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvc2hvcC9hcHBsaWNhdGlvbiIsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi5byA5bqX5oiQ5Yqf77yBIiwKICAgICAgICAgICAgICAiY2xhc3MiOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgImNsYXNzIjogIndhcm5pbmciLAogICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CgogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCLmgqjnmoTkvZnpop3kuI3otrPvvIzku4XmnIkiKTsKCiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycm9yLnJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coZm9ybURhdGEpOwogICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcHVzaF93YXJlaG91c2U6IGZ1bmN0aW9uIHB1c2hfd2FyZWhvdXNlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215LXNob3BzIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_3/lab3/frontend/src/views/Open.vue"],"names":[],"mappings":";;;;;AA6EE,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,IAAI,EAAE,EAFD;AAGL,MAAA,OAAO,EAAE,EAHJ;AAIL,MAAA,WAAW,EAAE,EAJR;AAKL,MAAA,OAAO,EAAE,EALJ;AAML,MAAA,OAAO,EAAE,EANJ;AAOL,MAAA,IAAI,EAAE,EAPD;AAQL,MAAA,MAAM,EAAE;AARH,KAAP;AAUD,GAbY;AAcb,EAAA,OAda,qBAcH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,OAAjB;AACD,GAhBY;AAiBb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACI,KADJ,EACW;AAChB,UAAI,IAAG,GAAI,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,CAAX;AACA,UAAI,GAAE,GAAI,KAAK,CAAC,KAAN,CAAY,GAAZ,CAAV;AACA,UAAI,CAAA,GAAI,QAAQ,CAAC,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAhB;AACA,UAAI,CAAA,GAAI,QAAQ,CAAC,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAhB;AACA,UAAI,CAAA,GAAI,QAAQ,CAAC,GAAG,CAAC,CAAD,CAAJ,EAAS,EAAT,CAAhB,CALgB,CAMhB;AACA;AACA;AACA;;AACA,UAAI,CAAA,GAAI,EAAJ,IAAU,CAAA,GAAI,CAAlB,EAAqB;AACnB,eAAO,KAAP;AACF,OAZgB,CAahB;;;AACA,UAAK,CAAA,GAAI,CAAJ,IAAS,CAAT,IAAc,CAAA,GAAI,GAAJ,IAAW,CAA1B,IAAgC,CAAA,GAAI,GAAJ,IAAW,CAA/C,EAAkD;AAChD,QAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,EAAV;AACF,OAhBgB,CAiBhB;;;AACA,UAAI,CAAA,GAAI,IAAI,CAAC,CAAD,CAAZ,EAAiB;AACf,eAAO,KAAP;AACF;;AACA,aAAO,IAAP;AACD,KAvBM;AAwBP,IAAA,UAxBO,wBAwBM;AAAA;;AACX,WAAK,MAAL,GAAc,EAAd;;AACA,UAAI,KAAK,QAAL,CAAc,MAAd,KAAyB,CAA7B,EAAgC;AAC9B,aAAK,MAAL,CAAY,IAAZ,CAAiB,QAAjB;AACF,OAFA,MAEO,IAAI,KAAK,QAAL,CAAc,MAAd,GAAuB,EAA3B,EAA+B;AACpC,aAAK,MAAL,CAAY,IAAZ,CAAiB,aAAjB;AACF;;AAEA,UAAI,KAAK,IAAL,KAAc,EAAlB,EAAsB;AACpB,aAAK,MAAL,CAAY,IAAZ,CAAiB,YAAjB;AACF;;AACA,UAAI,KAAK,OAAL,CAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,aAAK,MAAL,CAAY,IAAZ,CAAiB,UAAjB;AACF,OAFA,MAEO,IAAI,CAAC,sBAAsB,IAAtB,CAA2B,KAAK,OAAhC,CAAL,EAA+C;AACpD,aAAK,MAAL,CAAY,IAAZ,CAAiB,oBAAjB;AACF;;AACA,UAAI,KAAK,WAAL,CAAiB,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,aAAK,MAAL,CAAY,IAAZ,CAAiB,QAAjB;AACF,OAFA,MAEO,IAAI,KAAK,WAAL,CAAiB,MAAjB,GAA0B,GAA9B,EAAmC;AACxC,aAAK,MAAL,CAAY,IAAZ,CAAiB,aAAjB;AACF;;AACA,UAAI,KAAK,OAAL,CAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,aAAK,MAAL,CAAY,IAAZ,CAAiB,UAAjB;AACF,OAFA,MAEO,IAAI,KAAK,OAAL,CAAa,MAAb,GAAsB,EAA1B,EAA8B;AACnC,aAAK,MAAL,CAAY,IAAZ,CAAiB,eAAjB;AACF;;AAEA,UAAI,CAAC,gDAAgD,IAAhD,CAAqD,KAAK,OAA1D,CAAL,EAAyE;AACvE,QAAA,OAAO,CAAC,GAAR;AACA,aAAK,MAAL,CAAY,IAAZ,CAAiB,eAAjB;AACF;;AAEA,UAAI,CAAC,sBAAsB,IAAtB,CAA2B,KAAK,IAAhC,CAAL,EAA4C;AAC1C,QAAA,OAAO,CAAC,GAAR;AACA,aAAK,MAAL,CAAY,IAAZ,CAAiB,uBAAjB;AACF,OAHA,MAGO,IAAI,CAAC,KAAK,UAAL,CAAgB,KAAK,IAArB,CAAL,EAAiC;AACtC,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,UAAL,CAAgB,KAAK,IAArB,CAAZ;AACA,QAAA,OAAO,CAAC,GAAR;AACA,aAAK,MAAL,CAAY,IAAZ,CAAiB,QAAjB;AACF;;AAEA,UAAI,CAAC,KAAK,MAAL,CAAY,MAAjB,EAAyB;AACvB,YAAI,QAAO,GAAI;AACb,UAAA,SAAS,EAAE,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,WAArB,KAAqC,IAAhD,CADE;AAEb,UAAA,SAAS,EAAE,KAAK,QAFH;AAGb,UAAA,IAAI,EAAE,KAAK,IAHE;AAIb,UAAA,WAAW,EAAE,KAAK,WAJL;AAKb,UAAA,OAAO,EAAE,KAAK,OALD;AAMb,UAAA,OAAO,EAAE,KAAK,OAND;AAOb,UAAA,OAAO,EAAE,KAAK,OAPD;AAQb,UAAA,IAAI,EAAE,KAAK;AARE,SAAf;AAWA,QAAA,KAAI,CACD,IADH,CACQ,uBADR,EACiC,QADjC,EAEG,IAFH,CAEQ,UAAC,QAAD,EAAc;AAClB,UAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;;AACA,cAAI,QAAQ,CAAC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,YAAA,KAAK,CAAC;AACJ,cAAA,OAAO,EAAE,OADL;AAEJ,uBAAO,YAFH;AAGJ,cAAA,WAAW,EAAE,IAHT;AAIJ,cAAA,YAAY,EAAE,IAJV;AAKJ,cAAA,QAAQ,EAAE,IALN;AAMJ,cAAA,QAAQ,EAAE;AANN,aAAD,CAAL;AAQF,WATA,MASO;AACL,YAAA,KAAK,CAAC;AACJ,cAAA,OAAO,EAAE,QAAQ,CAAC,IAAT,CAAc,OADnB;AAEJ,uBAAO,SAFH;AAGJ,cAAA,WAAW,EAAE,IAHT;AAIJ,cAAA,YAAY,EAAE,IAJV;AAKJ,cAAA,QAAQ,EAAE,IALN;AAMJ,cAAA,QAAQ,EAAE;AANN,aAAD,CAAL;AAQF;AACD,SAvBH,WAwBS,UAAC,KAAD,EAAW;AAChB,UAAA,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,QAAlB;;AACA,cAAI,KAAK,CAAC,QAAV,EAAoB;AAClB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,WAAjB;;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,KAAK,CAAC,QAAN,CAAe,IAAhC;;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACF,WAJA,MAIO,IAAI,KAAK,CAAC,OAAV,EAAmB;AACxB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,KAAK,CAAC,OAAvB;AACF;AACD,SAjCH;AAkCF;AACD,KAhHM;AAiHP,IAAA,cAjHO,4BAiHU;AACf,WAAK,OAAL,CAAa,IAAb,CAAkB,WAAlB;AACD;AAnHM;AAjBI,CAAf","sourcesContent":["<template>\n  <div class=\"page-open\">\n    <div class=\"columns\">\n      <div class=\"column is-4 is-offset-4\">\n        <h1 class=\"title\">开店</h1>\n\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"field\">\n            <label>店名</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"shopname\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>售卖商品类别</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"type\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>身份证号</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"id_card\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>商店简介</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"description\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>备案地址</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"address\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>注册资金</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"capital\" />\n            </div>\n          </div>\n\n          <div class=\"field\">\n            <label>注册时间</label>\n            <div class=\"control\">\n              <input class=\"input\" v-model=\"date\" />\n            </div>\n          </div>\n\n          <div class=\"notification is-danger\" v-if=\"errors.length\">\n            <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n          </div>\n\n          <div class=\"field\">\n            <div class=\"control\">\n              <button class=\"button is-dark\">开店！</button>\n            </div>\n          </div>\n\n          <hr />\n        </form>\n      </div>\n      <div class=\"column is-offset-2\">\n        <button class=\"button is-link\" @click=\"push_warehouse\">返回</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  export default {\n    name: \"Open\",\n    data() {\n      return {\n        shopname: \"\",\n        type: \"\",\n        id_card: \"\",\n        description: \"\",\n        address: \"\",\n        capital: \"\",\n        date: \"\",\n        errors: [],\n      };\n    },\n    mounted() {\n      document.title = \"申请开店！\";\n    },\n    methods: {\n      valid_date(value) {\n        let days = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n        let YMD = value.split(\"-\");\n        let y = parseInt(YMD[0], 10);\n        let m = parseInt(YMD[1], 10);\n        let d = parseInt(YMD[2], 10);\n        // console.log(y)\n        // console.log(m)\n        // console.log(d)\n        //判断月份是否合法\n        if (m > 12 || m < 1) {\n          return false;\n        }\n        //判断是否是闰年\n        if ((y % 4 == 0 && y % 100 != 0) || y % 400 == 0) {\n          days[2] = 29;\n        }\n        //判断当月天数是否合法\n        if (d > days[m]) {\n          return false;\n        }\n        return true;\n      },\n      submitForm() {\n        this.errors = [];\n        if (this.shopname.length === 0) {\n          this.errors.push(\"店名不可为空\");\n        } else if (this.shopname.length > 12) {\n          this.errors.push(\"店名要在12个字符以内\");\n        }\n\n        if (this.type === \"\") {\n          this.errors.push(\"请提供正确的商品类别\");\n        }\n        if (this.id_card.length === 0) {\n          this.errors.push(\"身份证号不得为空\");\n        } else if (!/^[1-9]\\d{16}(X|\\d)$/.test(this.id_card)) {\n          this.errors.push(\"请输入正确的中国身份证号，一共18位\");\n        }\n        if (this.description.length === 0) {\n          this.errors.push(\"简介不得为空\");\n        } else if (this.description.length > 128) {\n          this.errors.push(\"简介要在12个字符以内\");\n        }\n        if (this.address.length === 0) {\n          this.errors.push(\"备案地址不得为空\");\n        } else if (this.address.length > 32) {\n          this.errors.push(\"备案地址要在32个字符以内\");\n        }\n\n        if (!/^([1-9]\\d{3,}|[1-9]\\d{0,2}(,\\d{3})+)(\\.\\d+)?$/.test(this.capital)) {\n          console.log();\n          this.errors.push(\"注册资金至少需要1000元\");\n        }\n\n        if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(this.date)) {\n          console.log();\n          this.errors.push(\"日期不合规，请按照YYYY-MM-DD输入\");\n        } else if (!this.valid_date(this.date)) {\n          console.log(this.valid_date(this.date));\n          console.log();\n          this.errors.push(\"输入日期非法\");\n        }\n\n        if (!this.errors.length) {\n          var formData = {\n            authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n            shop_name: this.shopname,\n            type: this.type,\n            description: this.description,\n            capital: this.capital,\n            id_card: this.id_card,\n            address: this.address,\n            date: this.date,\n          };\n\n          axios\n            .post(\"/api/shop/application\", formData)\n            .then((response) => {\n              console.log(formData);\n              if (response.status == 200) {\n                toast({\n                  message: \"开店成功！\",\n                  class: \"is-success\",\n                  dismissible: true,\n                  pauseOnHover: true,\n                  duration: 2000,\n                  position: \"bottom-right\",\n                });\n              } else {\n                toast({\n                  message: response.data.message,\n                  class: \"warning\",\n                  dismissible: true,\n                  pauseOnHover: true,\n                  duration: 2000,\n                  position: \"bottom-right\",\n                });\n              }\n            })\n            .catch((error) => {\n              console.log(error.response);\n              if (error.response) {\n                this.errors.push(\"您的余额不足，仅有\");\n                this.errors.push(error.response.data);\n                console.log(formData);\n              } else if (error.message) {\n                this.errors.push(error.message);\n              }\n            });\n        }\n      },\n      push_warehouse() {\n        this.$router.push(\"/my-shops\");\n      },\n    },\n  };\n</script>\n"],"sourceRoot":""}]}