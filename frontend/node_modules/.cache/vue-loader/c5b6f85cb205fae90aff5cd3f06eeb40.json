{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/src/components/ProductBox.vue?vue&type=template&id=9cfe2ae8","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/src/components/ProductBox.vue","mtime":1682250518506},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1681917297995},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY29sdW1uIGlzLTQiPgogICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaW1hZ2UiPgogICAgICAgIDxmaWd1cmUgY2xhc3M9ImltYWdlIGlzLTRieTMiPgogICAgICAgICAgPGltZyA6c3JjPSJwYXRoIiBhbHQ9IlBsYWNlaG9sZGVyIGltYWdlIiAvPgogICAgICAgIDwvZmlndXJlPgogICAgICAgIDxkaXYgY2xhc3M9ImJ1dHRvbiIgaWQ9ImxlZnQiIHYtc2hvdz0iaW5kZXggPiAwIiBAY2xpY2s9ImJ0bkxlZnQiPiZsdDs8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJidXR0b24iIGlkPSJyaWdodCIgdi1zaG93PSJpbmRleCA8IHByb2R1Y3QuaW1hZ2VfbnVtIC0gMSIgQGNsaWNrPSJidG5SaWdodCI+CiAgICAgICAgICAmZ3Q7CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjYXJkLWNvbnRlbnQiPgogICAgICAgIDxkaXYgY2xhc3M9Im1lZGlhIj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im1lZGlhLWNvbnRlbnQiPgogICAgICAgICAgICA8cCBjbGFzcz0idGl0bGUgaXMtNCI+5ZCN56ewOnt7IHByb2R1Y3QubmFtZSB9fTwvcD4KICAgICAgICAgICAgPHAgdi1pZj0iaXNfYWRtaW4iIGNsYXNzPSJ0aXRsZSBpcy02Ij5JRDp7eyBwcm9kdWN0LmlkIH19PC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQiPuaPj+i/sO+8mnt7IHByb2R1Y3QuZGVzY3JpcHRpb24gfX08L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxmb290ZXIgdi1pZj0iaXNfYWRtaW4iIGNsYXNzPSJjYXJkLWZvb3RlciI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGlzLXByaW1hcnkiIEBjbGljaz0icmVsZWFzZSh0cnVlKSI+6YCa6L+HPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnV0dG9uIGlzLWRhbmdlciIgQGNsaWNrPSJyZWxlYXNlKGZhbHNlKSI+5ouS57udPC9idXR0b24+CiAgICAgICAgPGRpdiBjbGFzcz0ibm90aWZpY2F0aW9uIGlzLWRhbmdlciIgdi1pZj0iZXJyb3JzLmxlbmd0aCI+CiAgICAgICAgICA8cCB2LWZvcj0iZXJyb3IgaW4gZXJyb3JzIiB2LWJpbmQ6a2V5PSJlcnJvciI+e3sgZXJyb3IgfX08L3A+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9vdGVyPgogICAgICA8Zm9vdGVyIHYtaWY9ImlzX3VzZXIiIGNsYXNzPSJjYXJkLWZvb3RlciI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udHJvbCI+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidXR0b24gaXMtZGFyayIgQGNsaWNrPSJ0b19jYXJ0Ij7liqDlhaXotK3nianovaY8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9mb290ZXI+CiAgICA8L2Rpdj4KICA8L2Rpdj4K"},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/src/components/ProductBox.vue"],"names":[],"mappings":"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C,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxD,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACtD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/biyuntian/Desktop/software engineering/git/lab_3/frontend/src/components/ProductBox.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"column is-4\">\n    <div class=\"card\">\n      <div class=\"card-image\">\n        <figure class=\"image is-4by3\">\n          <img :src=\"path\" alt=\"Placeholder image\" />\n        </figure>\n        <div class=\"button\" id=\"left\" v-show=\"index > 0\" @click=\"btnLeft\">&lt;</div>\n        <div class=\"button\" id=\"right\" v-show=\"index < product.image_num - 1\" @click=\"btnRight\">\n          &gt;\n        </div>\n      </div>\n      <div class=\"card-content\">\n        <div class=\"media\">\n          <div class=\"media-content\">\n            <p class=\"title is-4\">名称:{{ product.name }}</p>\n            <p v-if=\"is_admin\" class=\"title is-6\">ID:{{ product.id }}</p>\n          </div>\n        </div>\n\n        <div class=\"content\">描述：{{ product.description }}</div>\n      </div>\n      <footer v-if=\"is_admin\" class=\"card-footer\">\n        <button class=\"button is-primary\" @click=\"release(true)\">通过</button>\n        <button class=\"button is-danger\" @click=\"release(false)\">拒绝</button>\n        <div class=\"notification is-danger\" v-if=\"errors.length\">\n          <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n        </div>\n      </footer>\n      <footer v-if=\"is_user\" class=\"card-footer\">\n        <div class=\"control\">\n          <button class=\"button is-dark\" @click=\"to_cart\">加入购物车</button>\n        </div>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  export default {\n    data() {\n      return {\n        path: \"\",\n        index: 0,\n        is_admin: false,\n        is_user: false,\n        errors: [],\n      };\n    },\n    props: {\n      product: { type: Object },\n      type: { type: String },\n      review: { type: String },\n    },\n    methods: {\n      getImg() {\n        this.path = \"http://119.3.184.138:80/file/product/img/\" + this.product.id + \"-\" + this.index + \".png\";\n      },\n      btnLeft() {\n        this.index--;\n        this.getImg();\n      },\n      btnRight() {\n        this.index++;\n        this.getImg();\n      },\n      //上传审批结果\n      release(approved) {\n        this.errors = [];\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          info_id: this.product.id,\n          approved: approved,\n          review: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\").username == \"admin\",\n        };\n        console.log(formData);\n        var url;\n        if (this.review === \"create\") url = \"/api/product/create/approval\";\n        else if (this.review === \"modify\") url = \"/api/product/modify/approval\";\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            if (response.status == 200) {\n              toast({\n                message: \"完成商品审核！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            } else {\n              toast({\n                message: response.status,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"center\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n            if (error.response) {\n              this.errors.push(error.response.data);\n              console.log(JSON.stringify(error.response));\n            } else if (error.message) {\n              // this.errors.push(\"Something went wrong. Please try again\");\n              console.log(error.response);\n            }\n          });\n      },\n      //将商品添加进入购物车\n      to_cart() {\n        this.errors = [];\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n          product_id: this.product.id,\n        };\n        console.log(formData);\n        var url = \"/api/cart/create\";\n        axios\n          .post(url, formData)\n          .then((response) => {\n            console.log(response);\n            if (response.status == 200) {\n              toast({\n                message: \"添加购物车成功！\",\n                type: \"is-success\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n            } else {\n              toast({\n                message: response.status,\n                type: \"warning\",\n                dismissible: true,\n                pauseOnHover: true,\n                duration: 2000,\n                position: \"bottom-right\",\n              });\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n            if (error.response) {\n              this.errors.push(error.response.data);\n              console.log(JSON.stringify(error.response));\n            } else if (error.message) {\n              // this.errors.push(\"Something went wrong. Please try again\");\n              console.log(error.response);\n            }\n          });\n      },\n    },\n    mounted() {\n      if (this.type === \"2\") {\n        this.is_user = true;\n      } else if (this.type === \"0\") {\n        this.is_admin = true;\n      }\n    },\n    created() {\n      this.getImg();\n    },\n  };\n</script>\n\n<style>\n  .turning_button {\n    position: absolute;\n    width: 30px;\n    height: 50px;\n    text-align: center;\n    line-height: 50px;\n    top: 50%;\n    margin-top: -25px;\n    border: 1px solid #fff;\n    opacity: 0.3;\n    cursor: pointer;\n    color: #fff;\n    background: black;\n  }\n  #right {\n    left: 100%;\n    margin-left: -30px;\n  }\n</style>\n"]}]}