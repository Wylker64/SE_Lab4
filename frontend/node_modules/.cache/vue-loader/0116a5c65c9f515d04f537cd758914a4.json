{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue","mtime":1684573193441},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKICBpbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlBheW1lbnQiLAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBvcmRlcjoge30sCiAgICAgICAgdXNlcjoge30sCiAgICAgIH07CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgZG9jdW1lbnQudGl0bGUgPSAi5pSv5LuY6K6i5Y2VIjsKICAgICAgLy8g6I635Y+W6K6i5Y2V5ZKM55So5oi35L+h5oGvLi4uCiAgICB9LAogICAgbWV0aG9kczogewogICAgICBwYXlPcmRlcigpIHsKICAgICAgICBpZiAodGhpcy51c2VyLmJhbGFuY2UgPj0gdGhpcy5vcmRlci50b3RhbF9hbW91bnQpIHsKICAgICAgICAgIC8vIOaJp+ihjOaUr+S7mOmAu+i+kS4uLgogICAgICAgICAgLy8g5pu05paw6K6i5Y2V54q25oCB5Li64oCc5bey5pSv5LuY4oCdCiAgICAgICAgICAvLyDlsIborqLljZXph5Hpop3ku47nlKjmiLfotKbmiLfkuK3miaPpmaTlubbovaznp7vliLDllYbln47nmoTmmoLlrZjotKbmiLfkuK0KICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogIuaUr+S7mOaIkOWKn++8gSIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwKICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IiwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9vcmRlci1tYW5hZ2VtZW50Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogIuaUr+S7mOWksei0pe+8gei0puaIt+S9memineS4jei2s+OAgiIsCiAgICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiLAogICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL29yZGVyLW1hbmFnZW1lbnQiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH07Cg=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue"],"names":[],"mappings":";EAuCE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEnC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACV,CAAC;IACH,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACT,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UAChD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACX,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACd,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC,CAAC;UACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,EAAE,CAAC,CAAC,CAAC,EAAE;UACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC,CAAC;UACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC;MACF,CAAC;IACH,CAAC;EACH,CAAC","file":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Pay.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"page-payment\">\n    <div class=\"columns\">\n      <div class=\"column is-6\">\n        <h1 class=\"title\">支付订单</h1>\n        <div class=\"payment-details\">\n          <div class=\"box\">\n            <div class=\"field\">\n              <h2 class=\"subtitle\">订单详情</h2>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>订单编号：{{ order.order_id }}</div>\n              </div>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>订单金额：{{ order.total_amount }}</div>\n              </div>\n            </div>\n            <div class=\"field\">\n              <div class=\"control\">\n                <div>账户余额：{{ user.balance }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div class=\"payment-actions\">\n          <button class=\"button is-dark\" :disabled=\"user.balance < order.total_amount\" @click=\"payOrder\">\n            确认支付\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n\n  export default {\n    name: \"Payment\",\n    data() {\n      return {\n        order: {},\n        user: {},\n      };\n    },\n    mounted() {\n      document.title = \"支付订单\";\n      // 获取订单和用户信息...\n    },\n    methods: {\n      payOrder() {\n        if (this.user.balance >= this.order.total_amount) {\n          // 执行支付逻辑...\n          // 更新订单状态为“已支付”\n          // 将订单金额从用户账户中扣除并转移到商城的暂存账户中\n          toast({\n            message: \"支付成功！\",\n            type: \"is-success\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\",\n          });\n          this.$router.push(\"/order-management\");\n        } else {\n          toast({\n            message: \"支付失败！账户余额不足。\",\n            type: \"is-danger\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\",\n          });\n          this.$router.push(\"/order-management\");\n        }\n      },\n    },\n  };\n</script>\n"]}]}