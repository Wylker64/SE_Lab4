{"remainingRequest":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue","mtime":1684578426867},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/babel-loader/lib/index.js","mtime":1681917295923},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1681917295994},{"path":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1681917297993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKICBpbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKICBpbXBvcnQgQWRkcmVzcyBmcm9tICIuLi9jb21wb25lbnRzL2FkZHJlc3MudnVlIjsKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQ2hlY2tvdXQiLAogICAgY29tcG9uZW50czogewogICAgICBBZGRyZXNzLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIHR5cGU6IC0xLAogICAgICAgIG9yZGVyX2lkOiAtMSwKICAgICAgICBhZGRyZXNzZXM6IFtdLAogICAgICAgIGFkZHJlc3NfaWQ6IC0xLAogICAgICAgIC8vIOWFtuS7luaJgOmcgOaVsOaNrgogICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gIuaPkOS6pOiuouWNlSI7CiAgICAgIC8vIOiOt+WPlui0reeJqea4heWNleaVsOaNrgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMpOwogICAgICB0aGlzLnR5cGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMudHlwZTsKICAgICAgdGhpcy5pdGVtcyA9IEpTT04ucGFyc2UodGhpcy4kcm91dGUucGFyYW1zLml0ZW1zKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy50eXBlKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pdGVtcyk7CiAgICAgIHRoaXMuZ2V0QWRkcmVzcygpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgc3VibWl0T3JkZXIoKSB7CiAgICAgICAgLy8g5o+Q5Lqk6K6i5Y2VCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAicGF5IiwgcGFyYW1zOiB7IGlkOiB0aGlzLm9yZGVyX2lkIH0gfSk7CiAgICAgIH0sCiAgICAgIHNob3coKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5hZGRyZXNzX2lkKTsKICAgICAgfSwKICAgICAgZ2V0QWRkcmVzcygpIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSB7CiAgICAgICAgICBhdXRob3JpemU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhvcml6ZSIpIHx8ICJ7fSIpLAogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS9hZGRyZXNzIiwgZm9ybURhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLml0ZW1zKTsKICAgICAgICAgIHRoaXMuYWRkcmVzc2VzID0gcmVzcG9uc2UuZGF0YS5pdGVtczsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWRkcmVzc2VzKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLy8g5YW25LuW5pa55rOV77yM5aaC5pS26LSn5Zyw5Z2A6YCJ5oup44CB5LyY5oOg5Yi46YCJ5oup562JCiAgICB9LAogIH07Cg=="},{"version":3,"sources":["/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue"],"names":[],"mappings":"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","file":"/Users/biyuntian/Desktop/software engineering/git/lab_4/Lab4/frontend/src/views/Order.vue","sourceRoot":"","sourcesContent":["<!-- 下单界面 -->\n<template>\n  <div class=\"page-checkout\">\n    <div class=\"columns\">\n      <div class=\"column is-8\">\n        <h1 class=\"title\">提交订单</h1>\n\n        <div class=\"checkout-items\">\n          <!-- <h2 class=\"subtitle\">购物清单</h2> -->\n          <div class=\"box\">\n            <table class=\"table is-fullwidth\">\n              <thead>\n                <tr>\n                  <th>商品名称</th>\n                  <th>购买件数</th>\n                  <th>店铺名称</th>\n                  <th>单价</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in items\" v-bind:key=\"item.product_id\">\n                  <td>{{ item.name }}</td>\n                  <td>{{ item.count }}</td>\n                  <td>{{ item.shop_name }}</td>\n                  <td>{{ item.price }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div class=\"shipping-address\">\n          <!-- <h2 class=\"subtitle\">收货地址</h2> -->\n          <!-- 收货地址选择组件 -->\n          <!-- <div class=\"dropdown is-hoverable\">\n            <div class=\"dropdown-trigger\">\n              <button class=\"button\" aria-haspopup=\"true\" aria-controls=\"dropdown-menu\">\n                <span>地址选择</span>\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-angle-down\" aria-hidden=\"true\"></i>\n                </span>\n              </button>\n            </div>\n            <div class=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n              <div class=\"dropdown-content\">\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n                <hr class=\"dropdown-divider\" />\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n                <hr class=\"dropdown-divider\" />\n                <div class=\"dropdown-item\">\n                  <label class=\"radio\">\n                    <input type=\"radio\" name=\"answer\" v-model=\"answer\" value=\"1\" />\n                    <Address></Address>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div> -->\n        </div>\n\n        <div class=\"payment-summary\">\n          <!-- <h2 class=\"subtitle\">结算金额及优惠明细</h2> -->\n          <!-- 结算金额及优惠明细组件 -->\n        </div>\n\n        <div class=\"submit-order\">\n          <button class=\"button is-dark\" @click=\"submitOrder\">\n            提交订单\n          </button>\n        </div>\n      </div>\n      <div class=\"column is-3 is-offset-1\">\n        <h2 class=\"title is-3\">选择地址</h2>\n        <!-- <label class=\"radio\">\n          <input type=\"radio\" name=\"answer\" v-model=\"address_id\" value=\"1\" />\n          <Address></Address>\n        </label> -->\n        <div class=\"address\" v-for=\"address in addresses\" :key=\"address.id\">\n          <label class=\"radio\">\n            <input type=\"radio\" name=\"answer\" v-model=\"address_id\" :value=\"address.id\" />\n            <Address :key=\"address.id\" :address=\"address\"></Address>\n          </label>\n        </div>\n      </div>\n    </div>\n    <button @click=\"show\">show</button>\n  </div>\n</template>\n\n<script>\n  import axios from \"axios\";\n  import { toast } from \"bulma-toast\";\n  import Address from \"../components/address.vue\";\n  export default {\n    name: \"Checkout\",\n    components: {\n      Address,\n    },\n    data() {\n      return {\n        items: [],\n        type: -1,\n        order_id: -1,\n        addresses: [],\n        address_id: -1,\n        // 其他所需数据\n      };\n    },\n    mounted() {\n      document.title = \"提交订单\";\n      // 获取购物清单数据\n      // console.log(this.$route.params);\n      this.type = this.$route.params.type;\n      this.items = JSON.parse(this.$route.params.items);\n      // console.log(this.type);\n      // console.log(this.items);\n      this.getAddress();\n    },\n    methods: {\n      submitOrder() {\n        // 提交订单\n        this.$router.push({ name: \"pay\", params: { id: this.order_id } });\n      },\n      show() {\n        console.log(this.address_id);\n      },\n      getAddress() {\n        var formData = {\n          authorize: JSON.parse(localStorage.getItem(\"authorize\") || \"{}\"),\n        };\n        axios.post(\"/api/address\", formData).then((response) => {\n          console.log(response.data.items);\n          this.addresses = response.data.items;\n          console.log(this.addresses);\n        });\n      },\n      // 其他方法，如收货地址选择、优惠券选择等\n    },\n  };\n</script>\n"]}]}